{"remainingRequest":"C:\\Users\\web\\Desktop\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\Dr.Dingdang\\src\\views\\Head.vue?vue&type=style&index=0&id=5d06911a&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\web\\Desktop\\Dr.Dingdang\\src\\views\\Head.vue","mtime":1611383053526},{"path":"C:\\Users\\web\\Desktop\\Dr.Dingdang\\node_modules\\css-loader\\dist\\cjs.js","mtime":1610353160000},{"path":"C:\\Users\\web\\Desktop\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1610353180000},{"path":"C:\\Users\\web\\Desktop\\Dr.Dingdang\\node_modules\\postcss-loader\\src\\index.js","mtime":1610353174000},{"path":"C:\\Users\\web\\Desktop\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610353156000},{"path":"C:\\Users\\web\\Desktop\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\index.js","mtime":1610353180000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmJveCB7DQogIGhlaWdodDogMTAwcHg7DQogIHBhZGRpbmc6IDE1cHg7DQogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQp9DQoudGFiIHsNCiAgY29sb3I6ICMzMzM7DQogIGZvbnQtd2VpZ2h0OiA1MDA7DQogIGZvbnQtc2l6ZTogMTVweDsNCiAgbGluZS1oZWlnaHQ6IDM1cHg7DQogIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgaGVpZ2h0OiAzNXB4Ow0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFmYWZhOw0KICBib3JkZXItcmFkaXVzOiA0cHg7DQogIG92ZXJmbG93OiBoaWRkZW47DQogIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOw0KICAtd2Via2l0LWxpbmUtY2xhbXA6IDE7DQogIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7DQogIGRpc3BsYXk6IC13ZWJraXQtYm94Ow0KfQ0KLnRhYiA+Pj4gYSB7DQogIGNvbG9yOiAjMzMzOw0KICBwYWRkaW5nOiA2cHggMjBweDsNCn0NCi5jaGVja19ib3hfdXAgew0KICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICBwYWRkaW5nOiAxMHB4IDMwcHggMHB4Ow0KICB0ZXh0LWFsaWduOiBsZWZ0Ow0KfQ0KLnRpdGxlIHsNCiAgZm9udC1zaXplOiAxNHB4Ow0KICBjb2xvcjogIzAwMDAwMDsNCiAgcGFkZGluZzogMCAwIDIwcHggOHB4Ow0KfQ0KLmJhciB7DQogIGRpc3BsYXk6IGZsZXg7DQogIGZsZXgtZmxvdzogcm93IHdyYXA7DQogIGp1c3RpZnktY29udGVudDogc3RhcnQ7DQogIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQp9DQoucHJpY2Ugew0KICBoZWlnaHQ6IDIxcHg7DQogIGZvbnQtc2l6ZTogMTRweDsNCiAgbGluZS1oZWlnaHQ6IDIxcHg7DQogIGNvbG9yOiAjNjY2NjY2Ow0KICBwYWRkaW5nOiAycHggMTNweDsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2Y0ZjRmNDsNCiAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICBtYXJnaW46IDAgMTBweCAxMHB4IDA7DQp9DQouY2hhbmdlIHsNCiAgY29sb3I6ICNmZmY7DQogIGJhY2tncm91bmQtY29sb3I6ICMwMGM3OTI7DQp9DQouZG9jdG9yX2JveCB7DQogIHdpZHRoOiAzNzVweDsNCiAgaGVpZ2h0OiAxODRweDsNCiAgcGFkZGluZzogMTRweCAxNXB4Ow0KICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICBkaXNwbGF5OiBmbGV4Ow0KICB0ZXh0LWFsaWduOiBsZWZ0Ow0KICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQp9DQoucmlnaHQgew0KICB3aWR0aDogMjg5cHg7DQogIGhlaWdodDogMTU2cHg7DQogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQp9DQouaXRlbV9vbmUgew0KICBkaXNwbGF5OiBmbGV4Ow0KICBhbGlnbi1pdGVtczogZmxleC1lbmQ7DQp9DQouaXRlbV9vbmUgPiBkaXYgew0KICBtYXJnaW46IDA7DQogIGZvbnQtc2l6ZTogMTlweDsNCiAgbGluZS1oZWlnaHQ6IDEuMTU7DQp9DQouZm9udF8xNiB7DQogIGZvbnQtc2l6ZTogMTZweDsNCiAgY29sb3I6ICMzMzM7DQogIGZvbnQtd2VpZ2h0OiBib2xkZXI7DQogIHBhZGRpbmctcmlnaHQ6IDIwcHg7DQogIGZsb2F0OiBsZWZ0Ow0KfQ0KLnRhYmJhciB7DQogIG1hcmdpbjogMTBweCA4cHggMCAwOw0KICBwYWRkaW5nOiAxcHggNnB4Ow0KfQ0KLmJhcml0ZW0gew0KICBoZWlnaHQ6IDE2cHg7DQogIG1hcmdpbi1yaWdodDogNXB4Ow0KfQ0KLml0ZW1fdHdvID4gc3BhbiB7DQogIGZvbnQtc2l6ZTogMTNweDsNCiAgY29sb3I6ICM2NjY2NjY7DQogIHBhZGRpbmctcmlnaHQ6IDVweDsNCiAgbGluZS1oZWlnaHQ6IDI1cHg7DQogIHdoaXRlLXNwYWNlOiBub3dyYXA7DQogIHdvcmQtYnJlYWs6IGJyZWFrLWFsbDsNCn0NCi5pdGVtX3RocmVlID4gc3BhbiB7DQogIGZvbnQtc2l6ZTogMTNweDsNCiAgY29sb3I6ICM5OTk5OTk7DQogIGxpbmUtaGVpZ2h0OiAyNXB4Ow0KICBvdmVyZmxvdzogaGlkZGVuOw0KICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsNCiAgLXdlYmtpdC1saW5lLWNsYW1wOiAxOw0KICAtd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsOw0KICBkaXNwbGF5OiAtd2Via2l0LWJveDsNCn0NCi5pdGVtX2ZvdXJ0aCA+IHNwYW4gew0KICBmb250LXNpemU6IDEycHg7DQogIGNvbG9yOiAjNjY2NjY2Ow0KICBsaW5lLWhlaWdodDogMTVweDsNCiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsNCiAgbWFyZ2luLXJpZ2h0OiAyMHB4Ow0KfQ0KLml0ZW1fc2l4IHsNCiAgbWFyZ2luLXRvcDogMTZweDsNCiAgZGlzcGxheTogZmxleDsNCiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KfQ0KLml0ZW1fc2l4ID4gc3BhbiB7DQogIGZvbnQtc2l6ZTogMTVweDsNCiAgY29sb3I6ICM2Zjc1ODA7DQp9DQoudmFuLXRyZWUtc2VsZWN0X19pdGVtLS1hY3RpdmUgew0KICBjb2xvcjogIzAwYzc5MjsNCn0NCi52YW4tc2lkZWJhci1pdGVtLS1zZWxlY3Q6OmJlZm9yZSB7DQogIGJhY2tncm91bmQtY29sb3I6ICMwMGM3OTI7DQp9DQo="},{"version":3,"sources":["Head.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Head.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <my-navbar title=\"选择医生\"/>\r\n    <!-- 页头科室详情开始 -->\r\n    <div class=\"box\">\r\n      <van-row type=\"flex\" justify=\"space-between\">\r\n        <van-col\r\n          span=\"7\"\r\n          v-for=\"(p, i) of officeItem\"\r\n          :key=\"i\"\r\n          :class=\"{ tab: true, change: officeItemColor == i }\"\r\n          @click=\"LinkTo(p.office_id, i)\"\r\n        >\r\n          {{ p.office_name }}\r\n        </van-col>\r\n      </van-row>\r\n    </div>\r\n    <!-- 页头科室详情结束 -->\r\n    <!-- 下拉菜单开始 -->\r\n    <van-dropdown-menu active-color=\"#00c792\">\r\n      <!-- 第一栏下拉菜单开始 -->\r\n      <van-dropdown-item\r\n        v-model=\"value1\"\r\n        :options=\"option1\"\r\n        title=\"综合排序\"\r\n        @closed=\"closed\"\r\n      />\r\n      <!-- 第一栏下拉菜单结束 -->\r\n      <!-- 第二栏下拉菜单开始 -->\r\n      <van-dropdown-item title=\"地区\" ref=\"closeitem\">\r\n        <van-tree-select\r\n          :items=\"items\"\r\n          :active-id.sync=\"activeIds\"\r\n          :main-active-index.sync=\"activeIndex\"\r\n          height=\"350\"\r\n          selected-icon=\"revoke\"\r\n          @click-item=\"clickItem\"\r\n        />\r\n      </van-dropdown-item>\r\n      <!-- 第二栏下拉菜单结束 -->\r\n      <!-- 第三栏下拉菜单开始 -->\r\n      <van-dropdown-item title=\"筛选\" ref=\"close\">\r\n        <div class=\"check_box_up\">\r\n          <!-- 价格区间标题开始 -->\r\n          <div class=\"title\">价格区间</div>\r\n          <!-- 价格区间标题结束 -->\r\n          <!-- 价格从低到高开始 -->\r\n          <ul class=\"bar\">\r\n            <li\r\n              class=\"price\"\r\n              v-for=\"(p, i) of priceBox\"\r\n              :key=\"i\"\r\n              :class=\"{ change: i == priceChecked }\"\r\n              @click=\"PriceColorChange(p.minprice, p.maxprice, i)\"\r\n            >\r\n              {{ p.minprice }}-{{ p.maxprice }}\r\n            </li>\r\n          </ul>\r\n          <!-- 价格从低到高结束 -->\r\n        </div>\r\n        <div class=\"check_box_up\">\r\n          <!-- 医生职称标题开始 -->\r\n          <div class=\"title\">医生职称</div>\r\n          <ul class=\"bar\">\r\n            <li\r\n              class=\"price\"\r\n              v-for=\"(p, i) of jobBox\"\r\n              :key=\"i\"\r\n              :class=\"{ change: i == jobChecked }\"\r\n              @click=\"JobColorChange(p.name, i)\"\r\n            >\r\n              {{ p.name }}\r\n            </li>\r\n          </ul>\r\n          <!-- 医生职称标题结束 -->\r\n        </div>\r\n        <van-button plain block :hairline=\"true\" @click=\"clearBoth\">\r\n          清空所有条件\r\n        </van-button>\r\n        <van-button color=\"#00C792\" block @click=\"close(false)\">\r\n          确认搜索\r\n        </van-button>\r\n      </van-dropdown-item>\r\n      <!-- 第三栏下拉菜单结束 -->\r\n    </van-dropdown-menu>\r\n    <!-- 下拉菜单结束 -->\r\n    <!-- 下划线开始 -->\r\n    <van-divider\r\n      :style=\"{ color: '#000', borderColor: '#868181', padding: '0 16px' }\"\r\n    >\r\n      {{ title }}\r\n    </van-divider>\r\n    <!-- 下划线结束 -->\r\n    <!-- 空状态提示开始 -->\r\n    <van-empty \r\n    image=\"search\" \r\n    description=\"暂无符合条件的结果...\" \r\n    image-size=\"200\"\r\n    v-if=\"doctoritem.length==0\"\r\n    />\r\n    <!-- 空状态提示结束 -->\r\n    <!-- 医生名片盒子开始 -->\r\n    <div class=\"doctor_box\" @click=\"gotodetail(p.doctor_id)\" v-for=\"(p, i) of doctoritem\" :key=\"i\">\r\n      <!-- 左边图片开始 -->\r\n      <van-image\r\n        width=\"44\"\r\n        height=\"44\"\r\n        lazy-load\r\n        round\r\n        fit=\"cover\"\r\n        :src=\"p.avatar\"\r\n      >\r\n        <template v-slot:loading>\r\n          <van-loading\r\n            type=\"spinner\"\r\n            size=\"20\"\r\n            vertical\r\n            color=\"#ccc\"\r\n          ></van-loading>\r\n        </template>\r\n        <template v-slot:error>加载失败</template>\r\n      </van-image>\r\n      <!-- 左边图片结束 -->\r\n      <!-- 右边详情开始 -->\r\n      <div class=\"right\">\r\n        <div class=\"item_one\">\r\n          <div class=\"font_16\">{{ p.nickname }}</div>\r\n          <van-tag type=\"warning\" class=\"baritem\">{{ p.level }}</van-tag>\r\n          <van-tag type=\"warning\" class=\"baritem\">{{\r\n            p.hospitallevel\r\n          }}</van-tag>\r\n        </div>\r\n        <div class=\"item_two\">\r\n          <span>{{ p.office_name }}</span>\r\n          <span>{{ p.hospitalname }}</span>\r\n        </div>\r\n        <div class=\"item_three\">\r\n          <span>擅长:{{ p.direction }}</span>\r\n        </div>\r\n        <div class=\"item_fourth\">\r\n          <van-icon name=\"star\" color=\"#FFA91F\" />\r\n          <span>5.00</span>\r\n          <span>{{ p.answer }}个回答</span>\r\n        </div>\r\n        <div class=\"item_five\">\r\n          <van-tag plain round color=\"#00ad7f\" class=\"tabbar\"\r\n            >从业十年以上</van-tag\r\n          >\r\n          <van-tag plain round color=\"#00ad7f\" class=\"tabbar\">快速响应</van-tag>\r\n          <van-tag plain round color=\"#00ad7f\" class=\"tabbar\"\r\n            >专业性优秀</van-tag\r\n          >\r\n        </div>\r\n        <div class=\"item_six\">\r\n          <span>图文￥{{ p.ask_price }}</span>\r\n          <van-button round plain size=\"mini\" type=\"primary\">问医生</van-button>\r\n        </div>\r\n      </div>\r\n      <!-- 右边详情结束 -->\r\n    </div>\r\n    <!-- 医生名片盒子结束 -->\r\n  </div>\r\n</template>     \r\n<style scoped>\r\n.box {\r\n  height: 100px;\r\n  padding: 15px;\r\n  box-sizing: border-box;\r\n}\r\n.tab {\r\n  color: #333;\r\n  font-weight: 500;\r\n  font-size: 15px;\r\n  line-height: 35px;\r\n  text-align: center;\r\n  height: 35px;\r\n  background-color: #fafafa;\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  -webkit-line-clamp: 1;\r\n  -webkit-box-orient: vertical;\r\n  display: -webkit-box;\r\n}\r\n.tab >>> a {\r\n  color: #333;\r\n  padding: 6px 20px;\r\n}\r\n.check_box_up {\r\n  box-sizing: border-box;\r\n  padding: 10px 30px 0px;\r\n  text-align: left;\r\n}\r\n.title {\r\n  font-size: 14px;\r\n  color: #000000;\r\n  padding: 0 0 20px 8px;\r\n}\r\n.bar {\r\n  display: flex;\r\n  flex-flow: row wrap;\r\n  justify-content: start;\r\n  align-items: center;\r\n}\r\n.price {\r\n  height: 21px;\r\n  font-size: 14px;\r\n  line-height: 21px;\r\n  color: #666666;\r\n  padding: 2px 13px;\r\n  background-color: #f4f4f4;\r\n  border-radius: 4px;\r\n  margin: 0 10px 10px 0;\r\n}\r\n.change {\r\n  color: #fff;\r\n  background-color: #00c792;\r\n}\r\n.doctor_box {\r\n  width: 375px;\r\n  height: 184px;\r\n  padding: 14px 15px;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  text-align: left;\r\n  justify-content: space-between;\r\n}\r\n.right {\r\n  width: 289px;\r\n  height: 156px;\r\n  box-sizing: border-box;\r\n}\r\n.item_one {\r\n  display: flex;\r\n  align-items: flex-end;\r\n}\r\n.item_one > div {\r\n  margin: 0;\r\n  font-size: 19px;\r\n  line-height: 1.15;\r\n}\r\n.font_16 {\r\n  font-size: 16px;\r\n  color: #333;\r\n  font-weight: bolder;\r\n  padding-right: 20px;\r\n  float: left;\r\n}\r\n.tabbar {\r\n  margin: 10px 8px 0 0;\r\n  padding: 1px 6px;\r\n}\r\n.baritem {\r\n  height: 16px;\r\n  margin-right: 5px;\r\n}\r\n.item_two > span {\r\n  font-size: 13px;\r\n  color: #666666;\r\n  padding-right: 5px;\r\n  line-height: 25px;\r\n  white-space: nowrap;\r\n  word-break: break-all;\r\n}\r\n.item_three > span {\r\n  font-size: 13px;\r\n  color: #999999;\r\n  line-height: 25px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  -webkit-line-clamp: 1;\r\n  -webkit-box-orient: vertical;\r\n  display: -webkit-box;\r\n}\r\n.item_fourth > span {\r\n  font-size: 12px;\r\n  color: #666666;\r\n  line-height: 15px;\r\n  vertical-align: middle;\r\n  margin-right: 20px;\r\n}\r\n.item_six {\r\n  margin-top: 16px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n.item_six > span {\r\n  font-size: 15px;\r\n  color: #6f7580;\r\n}\r\n.van-tree-select__item--active {\r\n  color: #00c792;\r\n}\r\n.van-sidebar-item--select::before {\r\n  background-color: #00c792;\r\n}\r\n</style>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      value1: 0,\r\n      option1: [\r\n        { text: \"综合排序\", value: \"doctor_id\" },\r\n        { text: \"回答次数\", value: \"answer\" },\r\n        { text: \"价格从低到高\", value: \"ask_price_ASC\" },\r\n        { text: \"价格从高到低\", value: \"ask_price\" },\r\n      ],\r\n      priceChecked: -1,\r\n      jobChecked: -1,\r\n      priceBox: [\r\n        { minprice: 10, maxprice: 19 },\r\n        { minprice: 20, maxprice: 29 },\r\n        { minprice: 30, maxprice: 50 },\r\n        { minprice: 50, maxprice: 199 },\r\n      ],\r\n      jobBox: [{ name: \"医师\" }, { name: \"主治医师\" }, { name: \"副主任医师\" }],\r\n      params: { minprice: \"\", maxprice: \"\", name: \"\" },\r\n      // 所有医生\r\n      doctoritem: [],\r\n      // 所有科室\r\n      officeAll: [],\r\n      // 页面头盒子中的5个科室\r\n      officeItem: [],\r\n      officeItemColor: -1,\r\n      //科室标题下划线中动态生成\r\n      title: \"\",\r\n      officeID: \"\",\r\n      activeIds: 1,\r\n      activeIndex: 0,\r\n      item: {\r\n        // 导航名称\r\n        text: \"热门城市\",\r\n        children: [],\r\n      },\r\n      items: [],\r\n    };\r\n  },\r\n  methods: {\r\n    gotodetail(id){\r\n      this.$router.push({\r\n        path: `/question/doctor/${id}`,\r\n      })\r\n    },\r\n    // 添加选中颜色,获取选项的值\r\n    PriceColorChange(min, max, i) {\r\n      if (i != this.priceChecked) {\r\n        this.params.minprice = min;\r\n        this.params.maxprice = max;\r\n        this.priceChecked = i;\r\n      } else {\r\n        this.params.minprice = \"\";\r\n        this.params.maxprice = \"\";\r\n        this.priceChecked = -1;\r\n      }\r\n    },\r\n    // 添加选中颜色,获取选项的值\r\n    JobColorChange(name, i) {\r\n      if (i != this.jobChecked) {\r\n        this.params.name = name;\r\n        this.jobChecked = i;\r\n      } else {\r\n        this.params.name = \"\";\r\n        this.jobChecked = -1;\r\n      }\r\n    },\r\n    //清除筛选所有选项以及颜色\r\n    clearBoth() {\r\n      this.params = { minprice: \"\", maxprice: \"\", name: \"\" };\r\n      this.jobChecked = -1;\r\n      this.priceChecked = -1;\r\n    },\r\n    //关闭下拉框之后发送请求\r\n    close(bool) {\r\n      let officeID = this.officeID;\r\n      let min = this.params.minprice;\r\n      let max = this.params.maxprice;\r\n      let name = this.params.name;\r\n      //1.关闭下拉框\r\n      this.$refs.close.toggle(bool);\r\n      //2.发送请求\r\n      if (min == \"\" && name == \"\") {\r\n        this.$toast.setDefaultOptions({ duration: 500 });\r\n        this.$toast(\"至少选择一个筛选条件\");\r\n        return;\r\n      } else if (min == \"\" && name !== \"\") {\r\n        this.axios\r\n          .post(\"/doctoritem\", `officeID=${officeID}&name=${name}`)\r\n          .then((result) => {\r\n            this.doctoritem = result.data.data;\r\n            this.doctoritem.forEach((item) => {\r\n              item.avatar = require(\"../assets/img/\" + item.avatar);\r\n            });\r\n          });\r\n      } else if (min != \"\" && name == \"\") {\r\n        this.axios\r\n          .post(\"/doctoritem\", `officeID=${officeID}&min=${min}&max=${max}`)\r\n          .then((result) => {\r\n            this.doctoritem = result.data.data;\r\n            this.doctoritem.forEach((item) => {\r\n              item.avatar = require(\"../assets/img/\" + item.avatar);\r\n            });\r\n          });\r\n      } else {\r\n        this.axios\r\n          .post(\r\n            \"/doctoritem\",\r\n            `officeID=${officeID}&min=${min}&max=${max}&name=${name}`\r\n          )\r\n          .then((result) => {\r\n            this.doctoritem = result.data.data;\r\n            this.doctoritem.forEach((item) => {\r\n              item.avatar = require(\"../assets/img/\" + item.avatar);\r\n            });\r\n          });\r\n      }\r\n    },\r\n    //综合排序下拉框关闭后执行的事件\r\n    closed() {\r\n      let officeID = this.officeID;\r\n      this.axios\r\n        .post(\"/doctoritemDESC\", `value=${this.value1}&officeID=${officeID}`)\r\n        .then((result) => {\r\n          this.doctoritem = result.data.data;\r\n          this.doctoritem.forEach((item) => {\r\n            item.avatar = require(\"../assets/img/\" + item.avatar);\r\n          });\r\n          this.title = this.doctoritem[0].office_name;\r\n        });\r\n    },\r\n    // 点击页头科室，根据id请求关联医生信息展示，并将点击的科室随机替换\r\n    LinkTo(officeId, i) {\r\n      this.officeID = officeId;\r\n      // 1.随机在所有科室中生成一个科室下标\r\n      let office = Math.floor(Math.random() * this.officeAll.length);\r\n      let newOffice = this.officeAll[office];\r\n      //根据传递索引删除科室数组中的对应科室并替换\r\n      this.officeItem.splice(i, 1, newOffice);\r\n      //渲染颜色\r\n      this.officeItemColor = i;\r\n      //发送请求相关科室关联的医生\r\n      this.axios\r\n        .post(\"/officeItem\", `officeItem=${officeId}`)\r\n        .then((result) => {\r\n          this.doctoritem = result.data.data;\r\n          this.doctoritem.forEach((item) => {\r\n            item.avatar = require(\"../assets/img/\" + item.avatar);\r\n          });\r\n          this.title = this.doctoritem[0].office_name;\r\n        });\r\n    },\r\n    //点击全国地区筛选之后触发\r\n    clickItem(data){\r\n      let officeID = this.officeID;\r\n      //获取回调参数中的唯一城市id\r\n      let cityId=data.id\r\n      //关闭下拉菜单\r\n      this.$refs.closeitem.toggle(false);\r\n      // 发送请求 获取对应科室 所选取城市的所有医生\r\n      this.axios.post('/cityclick',`officeID=${officeID}&cityId=${cityId}`).then(result=>{\r\n          this.doctoritem = result.data.data;\r\n          this.doctoritem.forEach((item) => {\r\n            item.avatar = require(\"../assets/img/\" + item.avatar);\r\n          });\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n    this.officeID = this.$route.params.id;\r\n    // 挂载后请求所有相关科室医生信息,调用closed函数 后台传参value=0\r\n    this.closed();\r\n    //请求所有科室信息\r\n    this.axios.get(\"/officeAll\").then((result) => {\r\n      this.officeAll = result.data.data;\r\n      this.officeItem = this.officeAll.slice(0, 6);\r\n    });\r\n    this.axios.get(\"/addressbar\").then((result) => {\r\n      let total = [];\r\n      let provinces = result.data.data[1];\r\n      let citys = result.data.data[0];\r\n      provinces.forEach((province) => {\r\n        //对城市的请求返回结果进行过滤\r\n        let tempCity = citys.filter((city) => {\r\n          return province.province_id == city.province_id;\r\n        });\r\n        //如果返回结果一个省份仅对应一个城市,则当前城市是直辖市\r\n        if (tempCity.length == 1) {\r\n          tempCity = tempCity.map((c) => {\r\n            return { text: c.cityname, id: c.city_id };\r\n          });\r\n          this.item.children.push(tempCity[0]);\r\n          return;\r\n        }\r\n        //如果数组返回多个结果,则更改对应省份下的城市格式\r\n        tempCity = tempCity.map((c) => {\r\n          return { text: c.cityname, id: c.city_id };\r\n        });\r\n        //将当前省份和所对应的城市修改为分类选择组件所需要的格式并循环追加\r\n        total.push({ text: province.province_name, children: tempCity });\r\n      });\r\n      total.unshift(this.item);\r\n      this.items = total;\r\n    });\r\n  },\r\n};\r\n</script>\r\n"]}]}