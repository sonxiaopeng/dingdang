{"remainingRequest":"C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\src\\views\\Search.vue?vue&type=style&index=0&id=1a1d373c&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\src\\views\\Search.vue","mtime":1611317894972},{"path":"C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\node_modules\\css-loader\\dist\\cjs.js","mtime":1610353159285},{"path":"C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1610353179709},{"path":"C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\node_modules\\postcss-loader\\src\\index.js","mtime":1610353172117},{"path":"C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610353155479},{"path":"C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\index.js","mtime":1610353179708}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQoNCiN0YWJsZSB7DQoJaGVpZ2h0OiAxMDBweDsNCglwb3NpdGlvbjogcmVsYXRpdmU7DQoJcGFkZGluZzogMjBweCAxNnB4Ow0KCWJveC1zaXppbmc6IGJvcmRlci1ib3g7DQp9DQojdGFibGU6OmFmdGVyIHsNCglwb3NpdGlvbjogYWJzb2x1dGU7DQoJcmlnaHQ6IDE2cHg7DQoJYm90dG9tOiAwOw0KCWxlZnQ6IDE2cHg7DQoJYm94LXNpemluZzogYm9yZGVyLWJveDsNCgloZWlnaHQ6IDFweDsNCgliYWNrZ3JvdW5kLWNvbG9yOiAjZWJlYmViOw0KCWNvbnRlbnQ6ICIiOw0KCXRyYW5zZm9ybTogc2NhbGVZKDAuNSk7DQp9DQojdGFibGUgLmZpbGUgew0KCXdpZHRoOiA3MiU7DQoJaGVpZ2h0OiA2MHB4Ow0KfQ0KI3RhYmxlIC50aXRsZSB7DQoJY29sb3I6ICMzMzMzMzM7DQoJZm9udC1zaXplOiAxN3B4Ow0KCW1hcmdpbjogMDsNCn0NCiN0YWJsZSAuYXJ0aWNsZSB7DQoJbWFyZ2luOiAwOw0KCWNvbG9yOiAjOTk5OTk5Ow0KCWZvbnQtc2l6ZTogMTNweDsNCn0NCiN0YWJsZSAuY2F0ZWdvcnkgew0KCXBhZGRpbmc6IDRweDsNCgl3aWR0aDogNDhweDsNCgloZWlnaHQ6IDE0cHg7DQoJYmFja2dyb3VuZC1jb2xvcjogI2ViZWJlYjsNCgljb2xvcjogIzgwODA4MDsNCglmb250LXNpemU6IDEycHg7DQoJbGluZS1oZWlnaHQ6IDE0cHg7DQoJbWFyZ2luOiAwOw0KCXBvc2l0aW9uOiBhYnNvbHV0ZTsNCglyaWdodDogMTZweDsNCgl0b3A6IDUwJTsNCgl0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7DQp9DQoNCiNzZWFyY2ggPj4+IC52YW4tbmF2LWJhcl9fdGV4dCB7DQoJZm9udC1zaXplOiAxOHB4Ow0KCWZvbnQtd2VpZ2h0OiA3MDA7DQp9DQoNCi8qIOWFrOW8gOmXrumimOagt+W8j+W8gOWniyAqLw0KI3NlYXJjaCA+Pj4gLnF1ZXN0aW9ucy10YWdzIHsNCglwYWRkaW5nOiA1cHggNHB4IDIwcHggMTBweDsNCglkaXNwbGF5OiBmbGV4Ow0KCWZsZXgtZmxvdzogcm93IHdyYXA7DQoJYWxpZ24taXRlbXM6IGNlbnRlcjsNCglib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VlZTsNCn0NCg0KI3NlYXJjaCA+Pj4gLnZhbi10YWcgew0KCXBhZGRpbmc6IDhweCAxMnB4Ow0KCWZvbnQtd2VpZ2h0OiAzMDA7DQoJZm9udC1zaXplOiAxNHB4Ow0KCWxpbmUtaGVpZ2h0OiAxNnB4Ow0KCXdoaXRlLXNwYWNlOiBub3dyYXA7DQoJdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7DQoJYm9yZGVyLXJhZGl1czogMnB4Ow0KCW1heC13aWR0aDogMzQzcHg7DQoJbWFyZ2luOiA0cHggMTJweCAwIDA7DQoJb3ZlcmZsb3c6IGhpZGRlbjsNCgljb2xvcjogIzRkNGQ0ZDsNCgliYWNrZ3JvdW5kLWNvbG9yOiAjZmFmYWZhOw0KfQ0KLyog5YWs5byA6Zeu6aKY5qC35byP57uT5p2fICovDQoNCi8qIOmhtumDqOaQnOe0ouahhuagt+W8j+W8gOWniyAqLw0KI3NlYXJjaCA+Pj4gLnNlYXJjaC1oZWFkZXIgLnZhbi1zZWFyY2hfX2FjdGlvbiB7DQoJYmFja2dyb3VuZC1jb2xvcjogIzAwYzc5MjsNCglib3JkZXItcmFkaXVzOiAxN3B4Ow0KCWNvbG9yOiAjZmZmOw0KCW1hcmdpbi1sZWZ0OiAxMHB4Ow0KCXBhZGRpbmc6IDAgMTVweDsNCn0NCg0KI3NlYXJjaCA+Pj4gLnNlYXJjaC1oZWFkZXIgew0KCXdpZHRoOiAxMDAlOw0KCWJveC1zaXppbmc6IGJvcmRlci1ib3g7DQoJbWF4LXdpZHRoOiA3NjhweDsNCn0NCg0KI3NlYXJjaCA+Pj4gLnNlYXJjaC1oZWFkZXIgLnZhbi1zZWFyY2ggew0KCXBhZGRpbmc6IDEwcHggMTZweDsNCn0NCg0KI3NlYXJjaCA+Pj4gLnNlYXJjaC1oZWFkZXIgLnZhbi1zZWFyY2ggLnZhbi1zZWFyY2hfX2NvbnRlbnQgew0KCWJvcmRlcjogMC41cHggc29saWQgI2Q5ZDlkOTsNCglib3gtc2hhZG93OiAwIDZweCAxMnB4IDAgcmdiYSgwLCAwLCAwLCAwLjA1KTsNCgliYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOw0KCXBhZGRpbmctbGVmdDogMTVweDsNCn0NCg0KI3NlYXJjaCA+Pj4gLnNlYXJjaC1oZWFkZXIgLnZhbi1zZWFyY2ggLnZhbi1jZWxsIHsNCglkaXNwbGF5OiBmbGV4Ow0KCWFsaWduLWl0ZW1zOiBjZW50ZXI7DQoJaGVpZ2h0OiA0MnB4Ow0KfQ0KDQojc2VhcmNoID4+PiAuc2VhcmNoLWhlYWRlciAudmFuLWZpZWxkX19sZWZ0LWljb24gaW1nIHsNCgl3aWR0aDogMjJweDsNCgloZWlnaHQ6IDIycHg7DQoJbWluLXdpZHRoOiAyMnB4Ow0KCW1hcmdpbi1yaWdodDogNXB4Ow0KfQ0KDQojc2VhcmNoID4+PiAuc2VhcmNoLWhlYWRlciAudmFuLWZpZWxkX19jb250cm9sOjotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVyIHsNCgljb2xvcjogIzk5OTsNCglmb250LXdlaWdodDogYm9sZDsNCglmb250LXNpemU6IDE1cHg7DQp9DQovKiDpobbpg6jmkJzntKLmoYbmoLflvI/nu5PmnZ8gKi8NCg=="},{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Search.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\t<div id=\"search\">\r\n\t\t<div class=\"search-header\">\r\n\t\t\t<van-search\r\n\t\t\t\tv-model=\"searchVal\"\r\n\t\t\t\tplaceholder=\"搜索文章/医生/医院/疾病\"\r\n\t\t\t\tshape=\"round\"\r\n\t\t\t\tshow-action\r\n\t\t\t>\r\n\t\t\t\t<template #left-icon>\r\n\t\t\t\t\t<img src=\"@/assets/images/home/search-icon.png\" alt=\"\" />\r\n\t\t\t\t</template>\r\n\t\t\t\t<template #action>\r\n\t\t\t\t\t<div @click=\"onSearch\">搜索</div>\r\n\t\t\t\t</template>\r\n\t\t\t</van-search>\r\n\t\t</div>\r\n\t\t<van-tabs v-model=\"active\" color=\"#00c792\">\r\n\t\t\t<van-tab title=\"文章\" :name=\"1\"></van-tab>\r\n\t\t\t<van-tab title=\"问题\" :name=\"2\"></van-tab>\r\n\t\t\t<van-tab title=\"医院\" :name=\"3\"></van-tab>\r\n\t\t\t<van-tab title=\"医生\" :name=\"4\"></van-tab>\r\n\t\t</van-tabs>\r\n\t\t<van-nav-bar\r\n\t\t\tleft-text=\"历史搜索\"\r\n\t\t\t@click-right=\"onClickRight\"\r\n\t\t\t:border=\"false\"\r\n\t\t\tv-if=\"historyShow\"\r\n\t\t>\r\n\t\t\t<template #right>\r\n\t\t\t\t<van-icon name=\"delete-o\" color=\"#646566\" size=\"20\" />\r\n\t\t\t</template>\r\n\t\t</van-nav-bar>\r\n\t\t<div class=\"questions-tags\" v-if=\"historyShow\">\r\n\t\t\t<van-tag\r\n\t\t\t\tsize=\"large\"\r\n\t\t\t\tv-for=\"(item, index) of keywords\"\r\n\t\t\t\t:key=\"index\"\r\n\t\t\t\t@click=\"setActive(item)\"\r\n\t\t\t>\r\n\t\t\t\t{{ item }}\r\n\t\t\t</van-tag>\r\n\t\t</div>\r\n        <div class=\"articles-content\" v-if=\"active == 1\">\r\n            <article-list\r\n                v-for=\"(item, index) of articles\"\r\n                :key=\"index\"\r\n                :title=\"item.subject\"\r\n                :content=\"item.description\"\r\n                :imgurl=\"item.img\"\r\n                :url=\"url + `?articleid=${item.article_id}`\"\r\n            ></article-list>\r\n        </div>\r\n        <div class=\"questions-content\" v-if=\"active == 2\">\r\n            <question-list\r\n                :imgurl=\"item.imgurl\"\r\n                :nickname=\"item.nickname\"\r\n                :describe=\"item.describe\"\r\n                :committime=\"item.committime\"\r\n                :index=\"item.quesid\"\r\n                v-for=\"(item, index) of questions\"\r\n                :key=\"index\"\r\n            ></question-list>\r\n        </div>\r\n        <div class=\"gospital-content\">\r\n            <router-link\r\n\t\t\tv-for=\"(item, index) of tables\"\r\n\t\t\t:key=\"index\"\r\n\t\t\t:to=\"`/details?hospital=${item.hospital_id}`\"\r\n\t\t>\r\n\t\t\t<div id=\"table\">\r\n\t\t\t\t<div class=\"file\">\r\n\t\t\t\t\t<p class=\"title\">{{ item.hospitalname }}</p>\r\n\t\t\t\t\t<p class=\"article\">{{ item.address }}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<p class=\"category\">{{ item.hospitallevel }}</p>\r\n\t\t\t</div>\r\n\t\t</router-link>\r\n        </div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { Toast } from 'vant';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n            tables: [],\r\n            questions: [],\r\n            articles: [],\r\n\t\t\thistoryShow: false,\r\n\t\t\tsearchVal: \"\",\r\n\t\t\tactive: 1,\r\n\t\t\tkeywords: [],\r\n            url: \"/articledetail\",\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tonSearch() {\r\n\t\t\tif (this.searchVal == \"\") {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tlet historys = [];\r\n\t\t\tlet historyStr = decodeURI(localStorage.getItem(\"serachhistory\"));\r\n\t\t\tif (historyStr != \"null\") {\r\n\t\t\t\thistorys = historyStr.split(\",\");\r\n\t\t\t}\r\n\r\n\t\t\tif (historys.length > 5) {\r\n\t\t\t\thistorys.shift();\r\n            }\r\n            \r\n            let arr = historys.filter(item=>{\r\n                return item == this.searchVal\r\n            })\r\n            if(arr.length == 0){\r\n                historys.push(this.searchVal);\r\n            }\r\n\t\t\tlocalStorage.setItem(\r\n\t\t\t\t\"serachhistory\",\r\n\t\t\t\tencodeURI(historys.join(\",\"))\r\n\t\t\t);\r\n\t\t\tlet searchCategory = \"\";\r\n\t\t\tswitch (this.active) {\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tsearchCategory = \"article\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tsearchCategory = \"question\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tsearchCategory = \"hospital\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\tsearchCategory = \"doctor\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tthis.axios.get(`/search/${searchCategory}`, {\r\n\t\t\t\tparams: {\r\n                    keyword: this.searchVal\r\n                }\r\n            })\r\n            .then(value=>{\r\n                let resData = value.data\r\n                if(resData.code == 0){\r\n                    if(this.active == 1){\r\n                        this.articles =  resData.data;\r\n                    }else if(this.active == 2){\r\n                        this.questions =  resData.data;\r\n                    }else if(this)\r\n                }else {\r\n                    Toast(resData.message)\r\n                }\r\n                console.log(value)\r\n\r\n            })\r\n            .catch(reason=>{\r\n                console.log(reason)\r\n            })\r\n\t\t},\r\n\t\tsetActive(name) {\r\n\t\t\tthis.searchVal = name;\r\n\t\t},\r\n\t\tonClickRight() {\r\n\t\t\tlocalStorage.removeItem(\"serachhistory\");\r\n\t\t\tthis.historyShow = false;\r\n\t\t},\r\n\t},\r\n\tmounted() {\r\n        this.active = parseInt(this.$route.query.active)\r\n\t\tif (localStorage.getItem(\"serachhistory\")) {\r\n\t\t\tthis.historyShow = true;\r\n\t\t\tthis.keywords = decodeURI(\r\n\t\t\t\tlocalStorage.getItem(\"serachhistory\")\r\n\t\t\t).split(\",\");\r\n\t\t}\r\n\t},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n#table {\r\n\theight: 100px;\r\n\tposition: relative;\r\n\tpadding: 20px 16px;\r\n\tbox-sizing: border-box;\r\n}\r\n#table::after {\r\n\tposition: absolute;\r\n\tright: 16px;\r\n\tbottom: 0;\r\n\tleft: 16px;\r\n\tbox-sizing: border-box;\r\n\theight: 1px;\r\n\tbackground-color: #ebebeb;\r\n\tcontent: \"\";\r\n\ttransform: scaleY(0.5);\r\n}\r\n#table .file {\r\n\twidth: 72%;\r\n\theight: 60px;\r\n}\r\n#table .title {\r\n\tcolor: #333333;\r\n\tfont-size: 17px;\r\n\tmargin: 0;\r\n}\r\n#table .article {\r\n\tmargin: 0;\r\n\tcolor: #999999;\r\n\tfont-size: 13px;\r\n}\r\n#table .category {\r\n\tpadding: 4px;\r\n\twidth: 48px;\r\n\theight: 14px;\r\n\tbackground-color: #ebebeb;\r\n\tcolor: #808080;\r\n\tfont-size: 12px;\r\n\tline-height: 14px;\r\n\tmargin: 0;\r\n\tposition: absolute;\r\n\tright: 16px;\r\n\ttop: 50%;\r\n\ttransform: translateY(-50%);\r\n}\r\n\r\n#search >>> .van-nav-bar__text {\r\n\tfont-size: 18px;\r\n\tfont-weight: 700;\r\n}\r\n\r\n/* 公开问题样式开始 */\r\n#search >>> .questions-tags {\r\n\tpadding: 5px 4px 20px 10px;\r\n\tdisplay: flex;\r\n\tflex-flow: row wrap;\r\n\talign-items: center;\r\n\tborder-bottom: 1px solid #eee;\r\n}\r\n\r\n#search >>> .van-tag {\r\n\tpadding: 8px 12px;\r\n\tfont-weight: 300;\r\n\tfont-size: 14px;\r\n\tline-height: 16px;\r\n\twhite-space: nowrap;\r\n\ttext-overflow: ellipsis;\r\n\tborder-radius: 2px;\r\n\tmax-width: 343px;\r\n\tmargin: 4px 12px 0 0;\r\n\toverflow: hidden;\r\n\tcolor: #4d4d4d;\r\n\tbackground-color: #fafafa;\r\n}\r\n/* 公开问题样式结束 */\r\n\r\n/* 顶部搜索框样式开始 */\r\n#search >>> .search-header .van-search__action {\r\n\tbackground-color: #00c792;\r\n\tborder-radius: 17px;\r\n\tcolor: #fff;\r\n\tmargin-left: 10px;\r\n\tpadding: 0 15px;\r\n}\r\n\r\n#search >>> .search-header {\r\n\twidth: 100%;\r\n\tbox-sizing: border-box;\r\n\tmax-width: 768px;\r\n}\r\n\r\n#search >>> .search-header .van-search {\r\n\tpadding: 10px 16px;\r\n}\r\n\r\n#search >>> .search-header .van-search .van-search__content {\r\n\tborder: 0.5px solid #d9d9d9;\r\n\tbox-shadow: 0 6px 12px 0 rgba(0, 0, 0, 0.05);\r\n\tbackground-color: #fff;\r\n\tpadding-left: 15px;\r\n}\r\n\r\n#search >>> .search-header .van-search .van-cell {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\theight: 42px;\r\n}\r\n\r\n#search >>> .search-header .van-field__left-icon img {\r\n\twidth: 22px;\r\n\theight: 22px;\r\n\tmin-width: 22px;\r\n\tmargin-right: 5px;\r\n}\r\n\r\n#search >>> .search-header .van-field__control::-webkit-input-placeholder {\r\n\tcolor: #999;\r\n\tfont-weight: bold;\r\n\tfont-size: 15px;\r\n}\r\n/* 顶部搜索框样式结束 */\r\n</style>"]}]}