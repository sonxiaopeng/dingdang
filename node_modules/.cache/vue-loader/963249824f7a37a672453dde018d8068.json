{"remainingRequest":"C:\\Users\\web\\Desktop\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\Dr.Dingdang\\src\\views\\Consult.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\web\\Desktop\\Dr.Dingdang\\src\\views\\Consult.vue","mtime":1611384867999},{"path":"C:\\Users\\web\\Desktop\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610353156000},{"path":"C:\\Users\\web\\Desktop\\Dr.Dingdang\\node_modules\\babel-loader\\lib\\index.js","mtime":1610353156000},{"path":"C:\\Users\\web\\Desktop\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610353156000},{"path":"C:\\Users\\web\\Desktop\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\index.js","mtime":1610353180000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQoJZGF0YSgpIHsNCgkJcmV0dXJuIHsNCgkJCXZhbHVlOiAiIiwNCgkJCWFjdGl2ZUtleTogMCwNCgkJCW9mZmljZU5hbWU6IHt9LCAvL+enkeWupOWQjeensA0KCQkJaW5kZXhMaXN0OiBbXSwgLy/ntKLlvJXlrZfmr43mlbDnu4QNCgkJCWRpc2Vhc2U6IFtdLCAvL+W9k+WJjeenkeWupOeahOeWvueXheaVsOe7hA0KCQl9Ow0KCX0sDQoJbWV0aG9kczogew0KCQlnb3RvU2VhcmNoKCkgew0KCQkJdGhpcy4kcm91dGVyLnB1c2goew0KCQkJCXBhdGg6ICIvc2VhcmNoIiwNCgkJCQlxdWVyeTogew0KCQkJCQlhY3RpdmU6IDQsDQoJCQkJfSwNCgkJCX0pOw0KCQl9LA0KCQlvbkNsaWNrTGVmdCgpIHsNCgkJCXRoaXMuJHJvdXRlci5nbygtMSk7DQoJCX0sDQoJCS8v5Y+R6YCBYXhpb3Por7fmsYLojrflj5blr7nlupTnp5HlrqTnmoTnlr7nl4XmlbDmja4NCgkJaGFuZGxlKG9mZmljZUlkID0gMSkgew0KCQkJLy8g5bCG5b2T5YmN6YCJ5Lit55qE56eR5a6k5a2Y5pS+5YiwVnVleOS4rQ0KCQkJdGhpcy4kc3RvcmUuY29tbWl0KCJoYW5kbGVPZmZpY2VJZCIsIG9mZmljZUlkKTsNCgkJCXRoaXMuZGlzZWFzZSA9IFtdOyAvL+abtOaNouenkeWupOaXtua4heepuue0ouW8lemmluWtl+avjeaVsOe7hA0KCQkJdGhpcy5pbmRleExpc3QgPSBbXTsgLy/mm7TmjaLnp5HlrqTml7bmuIXnqbrntKLlvJXpppblrZfmr43mlbDnu4QNCgkJCWxldCB1cmwgPSBgL2NvbnN1bHRJZD9vZmZpY2VfaWQ9JHtvZmZpY2VJZH1gOw0KCQkJdGhpcy5heGlvcy5nZXQodXJsKS50aGVuKHJlcyA9PiB7DQoJCQkJbGV0IGRhdGEgPSByZXMuZGF0YS5kYXRhOw0KCQkJCS8v5ou85o6l57Si5byV5a2X5q+N5pWw57uE5ZKM5b2T5YmN56eR5a6k55qE55a+55eF5pWw57uEDQoJCQkJLy/ojrflj5bpppbkuKrntKLlvJXlubZwdXNo5Yiw5pWw57uE5LitDQoJCQkJbGV0IG5hbWUgPSBkYXRhWzBdLmluZGV4X25hbWU7DQoJCQkJdGhpcy5pbmRleExpc3QucHVzaChuYW1lKTsNCgkJCQlsZXQgYXJyID0gW107IC8v5a6a5LmJ5q+P5Liq5a2X5q+N55qE5bCP5pWw57uEDQoJCQkJZm9yICh2YXIgZCBvZiBkYXRhKSB7DQoJCQkJCWxldCBuID0gZC5pbmRleF9uYW1lOw0KCQkJCQlpZiAobmFtZSAhPSBuKSB7DQoJCQkJCQkvL+aLvOaOpeWtl+avjee0ouW8leaVsOe7hC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoJCQkJCQl0aGlzLmluZGV4TGlzdC5wdXNoKG4pOw0KCQkJCQkJbmFtZSA9IG47IC8v5oqKbmFtZeWIh+aNouWIsOS4i+WIsOS4i+S4quWtl+avjQ0KCQkJCQkJLy/miophcnLmlbDnu4Tmt7vliqDliLDlvZPliY3np5HlrqTnmoTnlr7nl4XmlbDnu4RkaXNlYXNl5LitLS0tLS0tLS0tLS0NCgkJCQkJCXRoaXMuZGlzZWFzZS5wdXNoKGFycik7DQoJCQkJCQlhcnIgPSBbXTsgLy/pppblrZfmr43mlbDnu4TvvIznlKjmnaXmlL7kuIvkuIDkuKrlrZfmr43kuIvnmoTmiYDmnInnlr7nl4UNCgkJCQkJfQ0KCQkJCQlhcnIucHVzaChkKTsNCgkJCQl9DQoJCQkJdGhpcy5kaXNlYXNlLnB1c2goYXJyKTsgLy/lvqrnjq/nu5PmnZ/lkI7miormnIDlkI7kuIDnu4Tnlr7nl4Xmt7vliqDliLBkaXNlYXNl5LitDQoJCQl9KTsNCgkJfSwNCgl9LA0KCW1vdW50ZWQoKSB7DQoJCS8v5Y+R6YCBYXhpb3Por7fmsYLojrflj5bmiYDmnInnp5HlrqQNCgkJdGhpcy5heGlvcy5nZXQoIi9jb25zdWx0IikudGhlbihyZXMgPT4gew0KCQkJLy/ojrflj5bmlbDmja7mlL7lhaVvZmZpY2VOYW1l5pWw57uE5LitDQoJCQl0aGlzLm9mZmljZU5hbWUgPSByZXMuZGF0YS5kYXRhOw0KCQl9KTsNCgkJdGhpcy5oYW5kbGUoKTsgLy/pppbmrKHliqDovb0NCgl9LA0KfTsNCg=="},{"version":3,"sources":["Consult.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Consult.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\t<div id=\"cousilt\">\r\n\t\t<!-- 页头开始 -->\r\n\t\t<div class=\"header\">\r\n\t\t\t<van-nav-bar\r\n\t\t\t\ttitle=\"查疾病\"\r\n\t\t\t\tfixed\r\n\t\t\t\tleft-arrow\r\n\t\t\t\tplaceholder\r\n\t\t\t\t@click-left=\"onClickLeft\"\r\n\t\t\t>\r\n\t\t\t\t<template #left>\r\n\t\t\t\t\t<van-icon\r\n\t\t\t\t\t\tname=\"arrow-left\"\r\n\t\t\t\t\t\tsize=\"25\"\r\n\t\t\t\t\t\tcolor=\"#333029\"\r\n\t\t\t\t\t></van-icon>\r\n\t\t\t\t</template>\r\n\t\t\t</van-nav-bar>\r\n\t\t\t<!-- 页头结束 -->\r\n\t\t\t<!-- 搜索框开始 -->\r\n\t\t\t<van-search\r\n\t\t\t\tclass=\"search\"\r\n\t\t\t\tv-model=\"value\"\r\n\t\t\t\tplaceholder=\"症状，疾病\"\r\n\t\t\t\t@focus=\"gotoSearch\"\r\n\t\t\t/>\r\n\t\t\t<!-- 搜索框结束 -->\r\n\t\t</div>\r\n\t\t<div class=\"main\">\r\n\t\t\t<!-- 侧边导航开始 -->\r\n\t\t\t<div class=\"sidebar\">\r\n\t\t\t\t<van-sidebar v-model=\"activeKey\">\r\n\t\t\t\t\t<van-sidebar-item\r\n\t\t\t\t\t\t@click=\"handle(item.office_id)\"\r\n\t\t\t\t\t\t:class=\"{\r\n\t\t\t\t\t\t\tactive: $store.state.office_id == item.office_id,\r\n\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\tv-for=\"item of officeName\"\r\n\t\t\t\t\t\t:title=\"item.office_name\"\r\n\t\t\t\t\t\t:key=\"item.office_id\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</van-sidebar>\r\n\t\t\t</div>\r\n\t\t\t<!-- 侧边导航结束 -->\r\n\r\n\t\t\t<!-- 索引栏开始 -->\r\n\t\t\t<div class=\"IndexBar\">\r\n\t\t\t\t<van-index-bar\r\n\t\t\t\t\thighlight-color=\"#00c792\"\r\n\t\t\t\t\t:index-list=\"indexList\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div v-for=\"(item, index) of indexList\" :key=\"index\">\r\n\t\t\t\t\t\t<van-index-anchor index=\"index\">\r\n\t\t\t\t\t\t\t{{ item }}</van-index-anchor\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<van-cell\r\n\t\t\t\t\t\t\tv-for=\"(item1, index) of disease[index]\"\r\n\t\t\t\t\t\t\t:title=\"item1.name\"\r\n\t\t\t\t\t\t\t:to=\"{\r\n\t\t\t\t\t\t\t\tpath: '/ConsultDetails/' + item1.disease_id,\r\n\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</van-index-bar>\r\n\t\t\t</div>\r\n\t\t\t<!-- 索引栏结束 -->\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tvalue: \"\",\r\n\t\t\tactiveKey: 0,\r\n\t\t\tofficeName: {}, //科室名称\r\n\t\t\tindexList: [], //索引字母数组\r\n\t\t\tdisease: [], //当前科室的疾病数组\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tgotoSearch() {\r\n\t\t\tthis.$router.push({\r\n\t\t\t\tpath: \"/search\",\r\n\t\t\t\tquery: {\r\n\t\t\t\t\tactive: 4,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t},\r\n\t\tonClickLeft() {\r\n\t\t\tthis.$router.go(-1);\r\n\t\t},\r\n\t\t//发送axios请求获取对应科室的疾病数据\r\n\t\thandle(officeId = 1) {\r\n\t\t\t// 将当前选中的科室存放到Vuex中\r\n\t\t\tthis.$store.commit(\"handleOfficeId\", officeId);\r\n\t\t\tthis.disease = []; //更换科室时清空索引首字母数组\r\n\t\t\tthis.indexList = []; //更换科室时清空索引首字母数组\r\n\t\t\tlet url = `/consultId?office_id=${officeId}`;\r\n\t\t\tthis.axios.get(url).then(res => {\r\n\t\t\t\tlet data = res.data.data;\r\n\t\t\t\t//拼接索引字母数组和当前科室的疾病数组\r\n\t\t\t\t//获取首个索引并push到数组中\r\n\t\t\t\tlet name = data[0].index_name;\r\n\t\t\t\tthis.indexList.push(name);\r\n\t\t\t\tlet arr = []; //定义每个字母的小数组\r\n\t\t\t\tfor (var d of data) {\r\n\t\t\t\t\tlet n = d.index_name;\r\n\t\t\t\t\tif (name != n) {\r\n\t\t\t\t\t\t//拼接字母索引数组--------------------------------\r\n\t\t\t\t\t\tthis.indexList.push(n);\r\n\t\t\t\t\t\tname = n; //把name切换到下到下个字母\r\n\t\t\t\t\t\t//把arr数组添加到当前科室的疾病数组disease中-----------\r\n\t\t\t\t\t\tthis.disease.push(arr);\r\n\t\t\t\t\t\tarr = []; //首字母数组，用来放下一个字母下的所有疾病\r\n\t\t\t\t\t}\r\n\t\t\t\t\tarr.push(d);\r\n\t\t\t\t}\r\n\t\t\t\tthis.disease.push(arr); //循环结束后把最后一组疾病添加到disease中\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n\tmounted() {\r\n\t\t//发送axios请求获取所有科室\r\n\t\tthis.axios.get(\"/consult\").then(res => {\r\n\t\t\t//获取数据放入officeName数组中\r\n\t\t\tthis.officeName = res.data.data;\r\n\t\t});\r\n\t\tthis.handle(); //首次加载\r\n\t},\r\n};\r\n</script>\r\n<style scoped>\r\n#cousilt {\r\n\ttext-align: center;\r\n}\r\n\r\n.header >>> .van-nav-bar__title {\r\n\tfont-size: 20px;\r\n\tfont-weight: 800;\r\n}\r\n/* 搜索样式 */\r\n#cousilt >>> .search {\r\n\tborder: 1px solid #000;\r\n\tborder-radius: 30px;\r\n\tpadding: 0px 14px;\r\n\tmargin: 0 20px;\r\n\tborder: 0.5px solid grey;\r\n}\r\n.main {\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\theight: 577px;\r\n}\r\n/* 侧边导航样式 */\r\n.sidebar {\r\n\twidth: 108px;\r\n\toverflow: scroll;\r\n}\r\n.van-sidebar-item {\r\n\tfont-size: 16px;\r\n\ttext-align: left;\r\n\tcolor: #999;\r\n\tpadding: 20px 0 20px 16px;\r\n}\r\n\r\n.active {\r\n\tfont-weight: 400;\r\n\tcolor: #00c792;\r\n}\r\n.van-sidebar-item--select::before {\r\n\tbackground-color: #fff;\r\n}\r\n/* 索引栏 */\r\n.IndexBar {\r\n\tflex: 1 1;\r\n\ttext-align: left;\r\n\toverflow: scroll;\r\n}\r\n</style>\r\n"]}]}