{"remainingRequest":"C:\\Users\\uid\\Desktop\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\uid\\Desktop\\Dr.Dingdang\\src\\views\\ask\\Order.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\uid\\Desktop\\Dr.Dingdang\\src\\views\\ask\\Order.vue","mtime":1611560770000},{"path":"C:\\Users\\uid\\Desktop\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610353156000},{"path":"C:\\Users\\uid\\Desktop\\Dr.Dingdang\\node_modules\\babel-loader\\lib\\index.js","mtime":1610353156000},{"path":"C:\\Users\\uid\\Desktop\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610353156000},{"path":"C:\\Users\\uid\\Desktop\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\index.js","mtime":1610353180000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBUb2FzdCB9IGZyb20gInZhbnQiOw0KZXhwb3J0IGRlZmF1bHQgew0KCWRhdGEoKSB7DQoJCXJldHVybiB7DQogICAgICAgICAgICBkb2N0b3JNc2c6IHsNCiAgICAgICAgICAgICAgICBhdmF0YXI6ICIxLmpwZyIsDQogICAgICAgICAgICAgICAgaG9zcGl0YWxuYW1lOiAi5YyX5Lqs5Y2P5ZKM5Yy76ZmiIiwNCiAgICAgICAgICAgICAgICBuaWNrbmFtZTogIueUsOWIqeawkSIsDQogICAgICAgICAgICAgICAgb2ZmaWNlbmFtZTogIuearuiCpOenkSIsDQogICAgICAgICAgICAgICAgcHJpY2U6IDE5DQogICAgICAgICAgICB9LA0KCQkJc3ltcHRvbURlc2M6ICIiLA0KCQkJc2hvdzogZmFsc2UsDQoJCQlpY29uQWN0aXZlOiBmYWxzZSwNCgkJCWJvZHlIZWlnaHQ6ICI1MDBweCIsDQoJCQlzeW1wdG9tSW1nczogWyIwZWYzNGRmMC01N2I3LTExZWItYjZkMy1kMThmYmE4YmRkOTYuanBnIl0sDQoJCX07DQoJfSwNCgltZXRob2RzOiB7DQoJCWNsb3NlUG9wdXAoKSB7DQoJCQl0aGlzLnNob3cgPSBmYWxzZTsNCgkJfSwNCgkJc2hvd1BvcHVwKCkgew0KCQkJdGhpcy5zaG93ID0gdHJ1ZTsNCgkJfSwNCgkJaXNDaGVjaygpIHsNCgkJCXRoaXMuaWNvbkFjdGl2ZSA9ICF0aGlzLmljb25BY3RpdmU7DQoJCX0sDQoJCWdvdG9QYXkoKSB7DQoJCQlpZiAoIXRoaXMuaWNvbkFjdGl2ZSkgew0KCQkJCVRvYXN0KHsNCgkJCQkJbWVzc2FnZTogIuivt+ehruiupOmBteWuiOmXruiviuWNj+iuriIsDQoJCQkJCXBvc2l0aW9uOiAibWlkZGxlIiwNCgkJCQl9KTsNCgkJCX0gZWxzZSB7DQoJCQkJdGhpcy5heGlvcw0KCQkJCQkucG9zdCgiL2VtZ2NhbGwvYWRkb3JkZXIiLCB7DQoJCQkJCQl1c2VyaWQ6IHRoaXMuJHJvdXRlLnF1ZXJ5LnVzZXJpZCwNCgkJCQkJCXBhdGllbnRpZDogdGhpcy4kcm91dGUucXVlcnkucGF0aWVudGlkLA0KCQkJCQkJb2ZmaWNlaWQ6IHRoaXMuJHJvdXRlLnF1ZXJ5Lm9mZmljZWlkLA0KICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRldGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCksDQogICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogdGhpcy5kb2N0b3JNc2cucHJpY2UsDQogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAyLA0KICAgICAgICAgICAgICAgICAgICAgICAgc3ltaWQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzeW1pZCcpDQoJCQkJCX0pDQoJCQkJCS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzeW1pZCcpDQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYXNrZG9jJykNCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzeW1wdG9tRGVzYycpDQoJCQkJCQlUb2FzdCh7DQoJCQkJCQkJbWVzc2FnZTogcmVzLmRhdGEubWVzc2FnZSwNCgkJCQkJCQlwb3NpdGlvbjogIm1pZGRsZSIsDQoJCQkJCQl9KTsNCgkJCQkJCXRoaXMuJHJvdXRlci5wdXNoKCIvbWluZSIpOw0KCQkJCQl9KTsNCgkJCX0NCgkJfSwNCgl9LA0KCW1vdW50ZWQoKSB7DQogICAgICAgIHRoaXMuYm9keUhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgLSA1MCArICJweCI7DQoJCVByb21pc2UuYWxsKFsNCgkJCXRoaXMuYXhpb3MuZ2V0KCIvZW1nY2FsbC9nZXRzeW1wdG9tIiwgew0KCQkJCXBhcmFtczogew0KCQkJCQl1c2VyaWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvLnVzZXJfaWQsDQoJCQkJfSwNCgkJCX0pLA0KCQkJdGhpcy5heGlvcy5nZXQoIi9hc2svZ2V0ZG9jdG9ybXNnIiwgew0KCQkJCXBhcmFtczogew0KCQkJCQlkb2N0b3JpZDogcGFyc2VJbnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Fza2RvYycpKSwNCgkJCQl9LA0KCQkJfSksDQoJCV0pLnRoZW4ocmVzPT57DQogICAgICAgICAgICB0aGlzLnN5bXB0b21EZXNjID0gcmVzWzBdLmRhdGEuZGF0YS5kZXNjcmlwdGlvbjsNCiAgICAgICAgICAgIHRoaXMuc3ltcHRvbUltZ3MgPSByZXNbMF0uZGF0YS5kYXRhLmltYWdlcy5zcGxpdCgiLCIpOw0KICAgICAgICAgICAgdGhpcy5kb2N0b3JNc2cgPSByZXNbMV0uZGF0YS5kYXRhDQogICAgICAgIH0pDQoJfSwNCn07DQo="},{"version":3,"sources":["Order.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Order.vue","sourceRoot":"src/views/ask","sourcesContent":["<template>\r\n\t<div id=\"order\" :style=\"{ height: bodyHeight }\">\r\n\t\t<my-navbar title=\"提交订单\" />\r\n\t\t<div class=\"order-desc\">\r\n\t\t\t<p>\r\n\t\t\t\t{{ symptomDesc }}\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t\t<div class=\"order-imgbox\" v-if=\"symptomImgs[0] != ''\">\r\n\t\t\t<img :src=\"`http://localhost:3000/${item}`\" v-for=\"(item, index) of symptomImgs\" :key=\"index\" />\r\n\t\t</div>\r\n\r\n\t\t<div class=\"order-doctor\">\r\n\t\t\t<div class=\"order-doctor-left\">\r\n\t\t\t\t<img :src=\"require(`@/assets/img/${doctorMsg.avatar}`)\" alt=\"\" />\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p class=\"tit\">{{doctorMsg.nickname}}</p>\r\n\t\t\t\t\t<p class=\"desc\">{{doctorMsg.officename}} {{doctorMsg.hospitalname}}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"order-doctor-price\">\r\n\t\t\t\t¥{{doctorMsg.price}}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<van-cell title=\"优惠方式\" value=\"无可用优惠券\" size=\"large\">\r\n\t\t\t<template #right-icon>\r\n\t\t\t\t<van-icon name=\"arrow\" color=\"#ccc\" />\r\n\t\t\t</template>\r\n\t\t</van-cell>\r\n\t\t<van-cell title=\"回复时间\" value=\"预计3小时内回复\" size=\"large\" />\r\n\r\n\t\t<div class=\"order-agree\">\r\n\t\t\t<van-icon name=\"checked\" :class=\"{ active: iconActive }\" @click=\"isCheck\" />\r\n\t\t\t我确认遵守\r\n\t\t\t<span @click=\"showPopup\">问诊协议</span>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"check-btn\" @click=\"gotoPay\">\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\"check-left\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t合计：\r\n\t\t\t\t\t\t<span>￥{{doctorMsg.price}}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>(含2次免费追问机会)</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"check-right\">\r\n\t\t\t\t\t立即支付\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<van-popup v-model=\"show\">\r\n\t\t\t<div class=\"popup\">\r\n\t\t\t\t<div class=\"tit\">问诊协议</div>\r\n\t\t\t\t<div class=\"content\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t请确认本次问诊为复诊，并提供相关检查资料，便于医生准确判断\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t医生的回复仅为建议，重大疾病或紧急情况请及时前往医院就诊\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"btn\" @click=\"closePopup\">我知道了</div>\r\n\t\t\t</div>\r\n\t\t</van-popup>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { Toast } from \"vant\";\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n            doctorMsg: {\r\n                avatar: \"1.jpg\",\r\n                hospitalname: \"北京协和医院\",\r\n                nickname: \"田利民\",\r\n                officename: \"皮肤科\",\r\n                price: 19\r\n            },\r\n\t\t\tsymptomDesc: \"\",\r\n\t\t\tshow: false,\r\n\t\t\ticonActive: false,\r\n\t\t\tbodyHeight: \"500px\",\r\n\t\t\tsymptomImgs: [\"0ef34df0-57b7-11eb-b6d3-d18fba8bdd96.jpg\"],\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tclosePopup() {\r\n\t\t\tthis.show = false;\r\n\t\t},\r\n\t\tshowPopup() {\r\n\t\t\tthis.show = true;\r\n\t\t},\r\n\t\tisCheck() {\r\n\t\t\tthis.iconActive = !this.iconActive;\r\n\t\t},\r\n\t\tgotoPay() {\r\n\t\t\tif (!this.iconActive) {\r\n\t\t\t\tToast({\r\n\t\t\t\t\tmessage: \"请确认遵守问诊协议\",\r\n\t\t\t\t\tposition: \"middle\",\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.axios\r\n\t\t\t\t\t.post(\"/emgcall/addorder\", {\r\n\t\t\t\t\t\tuserid: this.$route.query.userid,\r\n\t\t\t\t\t\tpatientid: this.$route.query.patientid,\r\n\t\t\t\t\t\tofficeid: this.$route.query.officeid,\r\n                        createtime: new Date().getTime(),\r\n                        price: this.doctorMsg.price,\r\n                        type: 2,\r\n                        symid: localStorage.getItem('symid')\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n                        localStorage.removeItem('symid')\r\n                        localStorage.removeItem('askdoc')\r\n                        localStorage.removeItem('symptomDesc')\r\n\t\t\t\t\t\tToast({\r\n\t\t\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\t\t\tposition: \"middle\",\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.$router.push(\"/mine\");\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tmounted() {\r\n        this.bodyHeight = document.documentElement.clientHeight - 50 + \"px\";\r\n\t\tPromise.all([\r\n\t\t\tthis.axios.get(\"/emgcall/getsymptom\", {\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tuserid: this.$store.state.userInfo.user_id,\r\n\t\t\t\t},\r\n\t\t\t}),\r\n\t\t\tthis.axios.get(\"/ask/getdoctormsg\", {\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tdoctorid: parseInt(localStorage.getItem('askdoc')),\r\n\t\t\t\t},\r\n\t\t\t}),\r\n\t\t]).then(res=>{\r\n            this.symptomDesc = res[0].data.data.description;\r\n            this.symptomImgs = res[0].data.data.images.split(\",\");\r\n            this.doctorMsg = res[1].data.data\r\n        })\r\n\t},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#order .popup .content > div::before {\r\n\tposition: absolute;\r\n\ttop: 4px;\r\n\tleft: 0px;\r\n\tcontent: \"\\F02F\";\r\n\tfont: normal normal normal 14px/1 \"vant-icon\";\r\n}\r\n\r\n#order .popup .content > div {\r\n\tmargin-bottom: 14px;\r\n\tposition: relative;\r\n\tpadding-left: 27px;\r\n    font-size: 14px;\r\n}\r\n\r\n#order .popup .btn {\r\n\tmargin-top: 40px;\r\n\tpadding: 10px 0;\r\n\tcolor: #fff;\r\n\tfont-size: 18px;\r\n\tline-height: 30px;\r\n\ttext-align: center;\r\n\tbackground: #00c792;\r\n\tborder-radius: 4px;\r\n}\r\n\r\n#order .popup .content {\r\n\tmargin: 20px 0 40px;\r\n\tcolor: #666;\r\n\tfont-size: 16px;\r\n\tline-height: 24px;\r\n}\r\n\r\n#order .popup .tit {\r\n\tcolor: #333;\r\n\tfont-weight: 500;\r\n\tfont-size: 24px;\r\n\ttext-align: center;\r\n}\r\n\r\n#order .van-popup {\r\n    border-radius: 5px;\r\n    overflow: hidden;\r\n}\r\n\r\n#order .popup {\r\n\tbox-sizing: border-box;\r\n\tmin-width: 325px;\r\n\tpadding: 40px 30px;\r\n\r\n}\r\n#order .order-agree span {\r\n\tcolor: #00c792;\r\n}\r\n\r\n#order .order-agree .van-icon.active {\r\n\tcolor: #00c792;\r\n}\r\n\r\n#order .order-agree .van-icon {\r\n\tfont-size: 12px;\r\n\tline-height: 1.5;\r\n}\r\n\r\n#order .order-agree {\r\n\tmargin: 15px 16px;\r\n\tcolor: #999;\r\n\tfont-size: 12px;\r\n\tline-height: 1.5;\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n#order .check-btn .check-right {\r\n\tflex: 6;\r\n\ttext-align: center;\r\n\tcolor: #fff;\r\n\tfont-size: 16px;\r\n\tline-height: 50px;\r\n\tbackground-color: #00c792;\r\n}\r\n\r\n#order .check-btn .check-left > div + div {\r\n\tcolor: #999;\r\n\tfont-size: 12px;\r\n\tline-height: 1.17;\r\n}\r\n\r\n#order .check-btn .check-left > div > span {\r\n\tcolor: #00c792;\r\n\tfont-weight: 500;\r\n}\r\n\r\n#order .check-btn .check-left > div {\r\n\tcolor: #666;\r\n\tfont-size: 16px;\r\n\tline-height: 1.13;\r\n\ttext-align: center;\r\n}\r\n\r\n#order .check-btn .check-left {\r\n\tflex: 3;\r\n}\r\n\r\n#order .check-btn > div {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n#order .check-btn {\r\n\tposition: fixed;\r\n\tbottom: 0;\r\n\twidth: 100%;\r\n\tmax-width: 768px;\r\n\tbackground-color: #fff;\r\n}\r\n\r\n#order #tag {\r\n\tposition: absolute;\r\n\ttop: 3px;\r\n\tleft: 70px;\r\n\twidth: 47px;\r\n\theight: 16px;\r\n}\r\n\r\n#order .van-cell {\r\n\tpadding: 20px 16px;\r\n}\r\n\r\n#order .van-cell .van-icon {\r\n\tline-height: 24px;\r\n}\r\n\r\n#order .van-cell__title {\r\n\tflex: 2;\r\n\tposition: relative;\r\n}\r\n\r\n#order .van-cell__value {\r\n\tflex: 3;\r\n}\r\n\r\n#order .order-doctor .order-doctor-left div p.desc {\r\n\tmargin: 0;\r\n\tmargin-top: 10px;\r\n\tcolor: #666;\r\n\tfont-weight: 300;\r\n\tfont-size: 13px;\r\n\tline-height: 15px;\r\n}\r\n\r\n#order .order-doctor .order-doctor-left div p.tit {\r\n\tcolor: #333;\r\n\tfont-size: 16px;\r\n\tline-height: 18px;\r\n\tmargin: 0;\r\n}\r\n\r\n#order .order-doctor .order-doctor-left img {\r\n\twidth: 36px;\r\n\theight: 36px;\r\n\tborder: 0.5px solid rgba(0, 0, 0, 0.05);\r\n\tborder-radius: 18px;\r\n\tmargin-right: 10px;\r\n}\r\n\r\n#order .order-doctor .order-doctor-left {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n#order .order-doctor .order-doctor-price {\r\n\tcolor: #00c792;\r\n\tfont-weight: 500;\r\n\tfont-size: 15px;\r\n}\r\n\r\n#order .order-doctor::after {\r\n\tposition: absolute;\r\n\tcontent: \"\";\r\n\tdisplay: block;\r\n\theight: 1px;\r\n\tbottom: 0;\r\n\tleft: 20px;\r\n\tright: 20px;\r\n\tbackground-color: #ebedf0;\r\n\ttransform: scaleY(0.5);\r\n}\r\n\r\n#order .order-doctor {\r\n\tpadding: 20px 16px;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tposition: relative;\r\n\tbackground-color: #fff;\r\n}\r\n\r\n#order .order-imgbox::-webkit-scrollbar {\r\n\twidth: 0px;\r\n\theight: 0px;\r\n}\r\n\r\n#order .order-imgbox img {\r\n\twidth: 50px;\r\n\theight: 50px;\r\n\t-o-object-fit: cover;\r\n\tobject-fit: cover;\r\n\tmargin-right: 8px;\r\n}\r\n\r\n#order .order-imgbox {\r\n\tpadding: 12px 16px;\r\n\toverflow-y: scroll;\r\n\twhite-space: nowrap;\r\n\tborder-bottom: 10px solid #f4f4f4;\r\n\tbackground-color: #fff;\r\n}\r\n\r\n#order .order-desc {\r\n\tpadding: 15px 16px;\r\n\tcolor: #666;\r\n\tfont-size: 15px;\r\n\tposition: relative;\r\n\tbackground-color: #fff;\r\n\tmin-height: 22px;\r\n}\r\n\r\n#order .order-desc p {\r\n\tdisplay: -webkit-box;\r\n\toverflow: hidden;\r\n\tline-height: 22px;\r\n\tword-break: break-all;\r\n\ttext-overflow: ellipsis;\r\n\tmax-height: 44px;\r\n\tdisplay: -webkit-box;\r\n\t-webkit-box-orient: vertical;\r\n\t-webkit-line-clamp: 2;\r\n\tmargin: 0;\r\n}\r\n\r\n#order .order-desc::after {\r\n\tcontent: \"\";\r\n\tdisplay: block;\r\n\theight: 1px;\r\n\tbackground-color: #ebebeb;\r\n\tposition: absolute;\r\n\tbottom: 0px;\r\n\tleft: 16px;\r\n\tright: 16px;\r\n\tz-index: 10;\r\n\ttransform: scaleY(0.5);\r\n}\r\n\r\n#order {\r\n\tbackground-color: #f4f4f4;\r\n\tpadding-bottom: 50px;\r\n}\r\n</style>\r\n"]}]}