{"remainingRequest":"C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\src\\components\\Clipper.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\src\\components\\Clipper.vue","mtime":1611127033175},{"path":"C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\node_modules\\css-loader\\dist\\cjs.js","mtime":1610353159285},{"path":"C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1610353179709},{"path":"C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\node_modules\\postcss-loader\\src\\index.js","mtime":1610353172117},{"path":"C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610353155479},{"path":"C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\index.js","mtime":1610353179708}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi52LXNpbXBsZS1jcm9wcGVyIC5maWxlIHsNCglkaXNwbGF5OiBub25lOw0KfQ0KLnYtc2ltcGxlLWNyb3BwZXIgLnYtY3JvcHBlci1sYXllciB7DQoJcG9zaXRpb246IGZpeGVkOw0KCXRvcDogMDsNCglib3R0b206IDA7DQoJbGVmdDogMDsNCglyaWdodDogMDsNCgliYWNrZ3JvdW5kOiAjZmZmOw0KCXotaW5kZXg6IDk5OTk5Ow0KCWRpc3BsYXk6IG5vbmU7DQp9DQoudi1zaW1wbGUtY3JvcHBlciAudi1jcm9wcGVyLWxheWVyIC5sYXllci1oZWFkZXIgew0KCXBvc2l0aW9uOiBhYnNvbHV0ZTsNCgl0b3A6IDA7DQoJbGVmdDogMDsNCgl6LWluZGV4OiA5OTk5OTsNCgliYWNrZ3JvdW5kOiAjZmZmOw0KCXdpZHRoOiAxMDAlOw0KCWhlaWdodDogMC44cmVtOw0KCXBhZGRpbmc6IDAgMC4ycmVtOw0KCWJveC1zaXppbmc6IGJvcmRlci1ib3g7DQp9DQoudi1zaW1wbGUtY3JvcHBlciAudi1jcm9wcGVyLWxheWVyIC5jYW5jZWwsDQoudi1zaW1wbGUtY3JvcHBlciAudi1jcm9wcGVyLWxheWVyIC5jb25maXJtIHsNCglsaW5lLWhlaWdodDogMC44cmVtOw0KCWZvbnQtc2l6ZTogMC4yOHJlbTsNCgliYWNrZ3JvdW5kOiBpbmhlcml0Ow0KCWJvcmRlcjogMDsNCglvdXRsaW5lOiAwOw0KCWZsb2F0OiBsZWZ0Ow0KfQ0KLnYtc2ltcGxlLWNyb3BwZXIgLnYtY3JvcHBlci1sYXllciAuY29uZmlybSB7DQoJZmxvYXQ6IHJpZ2h0Ow0KfQ0KLnYtc2ltcGxlLWNyb3BwZXIgLnYtY3JvcHBlci1sYXllciBpbWcgew0KCXBvc2l0aW9uOiBpbmhlcml0ICFpbXBvcnRhbnQ7DQoJYm9yZGVyLXJhZGl1czogaW5oZXJpdCAhaW1wb3J0YW50Ow0KCWZsb2F0OiBpbmhlcml0ICFpbXBvcnRhbnQ7DQp9DQo="},{"version":3,"sources":["Clipper.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Clipper.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n\t<div class=\"v-simple-cropper\">\r\n\t\t<slot>\r\n\t\t\t<button @click=\"upload\">上传图片</button>\r\n\t\t</slot>\r\n\t\t<input\r\n\t\t\tclass=\"file\"\r\n\t\t\tref=\"file\"\r\n\t\t\ttype=\"file\"\r\n\t\t\taccept=\"image/*\"\r\n\t\t\t@change=\"uploadChange\"\r\n\t\t/>\r\n\t\t<div class=\"v-cropper-layer\" ref=\"layer\">\r\n\t\t\t<div class=\"layer-header\">\r\n\t\t\t\t<button class=\"cancel\" @click=\"cancelHandle\">取消</button>\r\n\t\t\t\t<button class=\"confirm\" @click=\"confirmHandle\">裁剪</button>\r\n\t\t\t</div>\r\n\t\t\t<img ref=\"cropperImg\" />\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport Cropper from \"cropperjs\";\r\nimport \"cropperjs/dist/cropper.min.css\";\r\nexport default {\r\n\tname: \"v-simple-cropper\",\r\n\tprops: {\r\n\t\tinitParam: Object,\r\n\t\tsuccessCallback: {\r\n\t\t\ttype: Function,\r\n\t\t\tdefault: () => {},\r\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcropper: {},\r\n\t\t\tfilename: \"\",\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tthis.init();\r\n\t},\r\n\tmethods: {\r\n\t\t// 初始化裁剪插件\r\n\t\tinit() {\r\n\t\t\tlet cropperImg = this.$refs[\"cropperImg\"];\r\n\t\t\tthis.cropper = new Cropper(cropperImg, {\r\n\t\t\t\taspectRatio: 1 / 1,\r\n\t\t\t\tdragMode: \"move\",\r\n\t\t\t});\r\n\t\t},\r\n\t\t// // 点击上传按钮\r\n\t\t// upload() {\r\n\t\t// \tthis.$refs[\"file\"].click();\r\n\t\t// },\r\n\t\t// // 选择上传文件\r\n\t\t// uploadChange(e) {\r\n\t\t// \tlet file = e.target.files[0];\r\n\t\t// \tthis.filename = file[\"name\"];\r\n\t\t// \tlet URL = window.URL || window.webkitURL;\r\n\t\t// \tthis.$refs[\"layer\"].style.display = \"block\";\r\n\t\t// \tthis.cropper.replace(URL.createObjectURL(file));\r\n\t\t// },\r\n\t\t// // 取消上传\r\n\t\t// cancelHandle() {\r\n\t\t// \tthis.cropper.reset();\r\n\t\t// \tthis.$refs[\"layer\"].style.display = \"none\";\r\n\t\t// \tthis.$refs[\"file\"].value = \"\";\r\n\t\t// },\r\n\t\t// // 确定上传\r\n\t\t// confirmHandle() {\r\n\t\t// \tlet cropBox = this.cropper.getCropBoxData();\r\n\t\t// \tlet scale = this.initParam[\"scale\"] || 1;\r\n\t\t// \tlet cropCanvas = this.cropper.getCroppedCanvas({\r\n\t\t// \t\twidth: cropBox.width * scale,\r\n\t\t// \t\theight: cropBox.height * scale,\r\n\t\t// \t});\r\n\t\t// \tlet imgData = cropCanvas.toDataURL(\"image/jpeg\");\r\n\t\t// \tlet formData = new window.FormData();\r\n\t\t// \tformData.append(\"fileType\", this.initParam[\"fileType\"]);\r\n\t\t// \tformData.append(\"img\", imgData);\r\n\t\t// \tformData.append(\"signId\", this.$localStorage(\"signId\"));\r\n\t\t// \tformData.append(\"originalFilename\", this.filename);\r\n\t\t// \twindow\r\n\t\t// \t\t.$axios(this.initParam[\"uploadURL\"], formData, {\r\n\t\t// \t\t\tmethod: \"post\",\r\n\t\t// \t\t\theaders: { \"Content-Type\": \"multipart/form-data\" },\r\n\t\t// \t\t})\r\n\t\t// \t\t.then(res => {\r\n\t\t// \t\t\tthis.successCallback(res.data);\r\n\t\t// \t\t\tthis.cancelHandle();\r\n\t\t// \t\t});\r\n\t\t// },\r\n\t},\r\n};\r\n</script>\r\n\r\n<style>\r\n.v-simple-cropper .file {\r\n\tdisplay: none;\r\n}\r\n.v-simple-cropper .v-cropper-layer {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbackground: #fff;\r\n\tz-index: 99999;\r\n\tdisplay: none;\r\n}\r\n.v-simple-cropper .v-cropper-layer .layer-header {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tz-index: 99999;\r\n\tbackground: #fff;\r\n\twidth: 100%;\r\n\theight: 0.8rem;\r\n\tpadding: 0 0.2rem;\r\n\tbox-sizing: border-box;\r\n}\r\n.v-simple-cropper .v-cropper-layer .cancel,\r\n.v-simple-cropper .v-cropper-layer .confirm {\r\n\tline-height: 0.8rem;\r\n\tfont-size: 0.28rem;\r\n\tbackground: inherit;\r\n\tborder: 0;\r\n\toutline: 0;\r\n\tfloat: left;\r\n}\r\n.v-simple-cropper .v-cropper-layer .confirm {\r\n\tfloat: right;\r\n}\r\n.v-simple-cropper .v-cropper-layer img {\r\n\tposition: inherit !important;\r\n\tborder-radius: inherit !important;\r\n\tfloat: inherit !important;\r\n}\r\n</style>\r\n"]}]}