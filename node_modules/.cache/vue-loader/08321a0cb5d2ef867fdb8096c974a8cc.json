{"remainingRequest":"C:\\Users\\uid\\Desktop\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\uid\\Desktop\\Dr.Dingdang\\src\\views\\emgcall\\PatientForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\uid\\Desktop\\Dr.Dingdang\\src\\views\\emgcall\\PatientForm.vue","mtime":1611534674000},{"path":"C:\\Users\\uid\\Desktop\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610353156000},{"path":"C:\\Users\\uid\\Desktop\\Dr.Dingdang\\node_modules\\babel-loader\\lib\\index.js","mtime":1610353156000},{"path":"C:\\Users\\uid\\Desktop\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610353156000},{"path":"C:\\Users\\uid\\Desktop\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\index.js","mtime":1610353180000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBUb2FzdCB9IGZyb20gInZhbnQiOw0KZXhwb3J0IGRlZmF1bHQgew0KCWRhdGEoKSB7DQoJCXJldHVybiB7DQogICAgICAgICAgICBiaXJ0aGRheTogJycsDQoJCQlpc0lub2N1bGF0aW9uU2hvdzogZmFsc2UsDQoJCQlpc0hpc3RvcnlTaG93OiBmYWxzZSwNCgkJCWlzQWxsZXJneVNob3c6IGZhbHNlLA0KCQkJYWxsZXJneURlc2M6ICIiLA0KCQkJaGlzdG9yeURlc2M6ICIiLA0KCQkJbmlja25hbWU6ICIiLA0KCQkJd2VpZ2h0OiAiIiwNCgkJCW1lc3NhZ2U6IHt9LA0KCQkJYmlydGhkYXlTaG93OiBmYWxzZSwNCgkJCWN1cnJlbnREYXRlOiBuZXcgRGF0ZSgyMDAwLCAwLCAxKSwNCgkJCW1pbkRhdGU6IG5ldyBEYXRlKDE4OTAsIDAsIDEpLA0KCQkJbWF4RGF0ZTogbmV3IERhdGUoKSwNCgkJfTsNCgl9LA0KCW1ldGhvZHM6IHsNCgkJc2V0SGlzdG9yeURlc2MoKSB7DQoJCQl0aGlzLiRzZXQodGhpcy5tZXNzYWdlLCAiaGlzdG9yeURlc2MiLCB0aGlzLmhpc3RvcnlEZXNjKTsNCgkJfSwNCgkJc2V0QWxsZXJneURlc2MoKSB7DQoJCQl0aGlzLiRzZXQodGhpcy5tZXNzYWdlLCAiYWxsZXJneURlc2MiLCB0aGlzLmFsbGVyZ3lEZXNjKTsNCgkJfSwNCgkJc2V0Tmlja25hbWUoKSB7DQoJCQl0aGlzLiRzZXQodGhpcy5tZXNzYWdlLCAibmlja25hbWUiLCB0aGlzLm5pY2tuYW1lKTsNCgkJfSwNCgkJc2V0V2VpZ2h0KCkgew0KCQkJdGhpcy4kc2V0KHRoaXMubWVzc2FnZSwgIndlaWdodCIsIHRoaXMud2VpZ2h0KTsNCgkJfSwNCgkJYmlydGhkYXlDYW5jZWwoKSB7DQoJCQl0aGlzLmJpcnRoZGF5U2hvdyA9IGZhbHNlOw0KCQl9LA0KCQliaXJ0aGRheUNvbmZpcm0odmFsdWUpIHsNCgkJCXRoaXMuYmlydGhkYXlTaG93ID0gZmFsc2U7DQoJCQlsZXQgc3RyID0gdGhpcy5tb21lbnQodmFsdWUpLmZvcm1hdCgiWVlZWS1NTS1ERCIpOw0KCQkJdGhpcy4kc2V0KHRoaXMubWVzc2FnZSwgImJpcnRoZGF5Iiwgc3RyKTsNCgkJfSwNCgkJc2V0QWN0aXZlKGl0ZW0sIHZhbHVlKSB7DQoJCQl0aGlzLiRzZXQodGhpcy5tZXNzYWdlLCBpdGVtLCB2YWx1ZSk7DQoJCQlpZiAoaXRlbSA9PSAiYWxsZXJneSIpIHsNCgkJCQlpZiAodmFsdWUgPT0gMikgew0KCQkJCQl0aGlzLmlzQWxsZXJneVNob3cgPSB0cnVlOw0KCQkJCX0gZWxzZSB7DQoJCQkJCXRoaXMuaXNBbGxlcmd5U2hvdyA9IGZhbHNlOw0KCQkJCX0NCgkJCX0gZWxzZSBpZiAoaXRlbSA9PSAiaGlzdG9yeSIpIHsNCgkJCQlpZiAodmFsdWUgPT0gMikgew0KCQkJCQl0aGlzLmlzSGlzdG9yeVNob3cgPSB0cnVlOw0KCQkJCX0gZWxzZSB7DQoJCQkJCXRoaXMuaXNIaXN0b3J5U2hvdyA9IGZhbHNlOw0KCQkJCX0NCgkJCX0gZWxzZSBpZiAoaXRlbSA9PSAic2V4Iikgew0KCQkJCWlmICh2YWx1ZSA9PSAyKSB7DQoJCQkJCXRoaXMuaXNJbm9jdWxhdGlvblNob3cgPSB0cnVlOw0KCQkJCX0gZWxzZSB7DQoJCQkJCXRoaXMuaXNJbm9jdWxhdGlvblNob3cgPSBmYWxzZTsNCgkJCQl9DQoJCQl9DQoJCX0sDQoJCW5leHQoKSB7DQoJCQlpZiAoIXRoaXMubWVzc2FnZS5uaWNrbmFtZSkgew0KCQkJCVRvYXN0KHsNCgkJCQkJbWVzc2FnZTogIuivt+i+k+WFpeWnk+WQjSIsDQoJCQkJCXBvc2l0aW9uOiAibWlkZGxlIiwNCgkJCQl9KTsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCQlpZiAoIXRoaXMubWVzc2FnZS5zZXgpIHsNCgkJCQlUb2FzdCh7DQoJCQkJCW1lc3NhZ2U6ICLor7fpgInmi6nmgKfliKsiLA0KCQkJCQlwb3NpdGlvbjogIm1pZGRsZSIsDQoJCQkJfSk7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJaWYgKCF0aGlzLm1lc3NhZ2UuYmlydGhkYXkpIHsNCgkJCQlUb2FzdCh7DQoJCQkJCW1lc3NhZ2U6ICLor7fpgInmi6nlh7rnlJ/ml6XmnJ8iLA0KCQkJCQlwb3NpdGlvbjogIm1pZGRsZSIsDQoJCQkJfSk7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJaWYgKCF0aGlzLm1lc3NhZ2Uud2VpZ2h0KSB7DQoJCQkJVG9hc3Qoew0KCQkJCQltZXNzYWdlOiAi6K+36L6T5YWl5L2T6YeNIiwNCgkJCQkJcG9zaXRpb246ICJtaWRkbGUiLA0KCQkJCX0pOw0KCQkJCXJldHVybjsNCgkJCX0NCgkJCWlmICghdGhpcy5tZXNzYWdlLmFsbGVyZ3kpIHsNCgkJCQlUb2FzdCh7DQoJCQkJCW1lc3NhZ2U6ICLor7fpgInmi6nov4fmlY/lj7IiLA0KCQkJCQlwb3NpdGlvbjogIm1pZGRsZSIsDQoJCQkJfSk7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJaWYgKCF0aGlzLm1lc3NhZ2UuaGlzdG9yeSkgew0KCQkJCVRvYXN0KHsNCgkJCQkJbWVzc2FnZTogIuivt+mAieaLqei/h+W+gOeXheWPsiIsDQoJCQkJCXBvc2l0aW9uOiAibWlkZGxlIiwNCgkJCQl9KTsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCQlpZiAoIXRoaXMubWVzc2FnZS5saXZlcikgew0KCQkJCVRvYXN0KHsNCgkJCQkJbWVzc2FnZTogIuivt+mAieaLqeiCneWKn+iDvSIsDQoJCQkJCXBvc2l0aW9uOiAibWlkZGxlIiwNCgkJCQl9KTsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCQlpZiAoIXRoaXMubWVzc2FnZS5raWRuZXkpIHsNCgkJCQlUb2FzdCh7DQoJCQkJCW1lc3NhZ2U6ICLor7fpgInmi6nogr7lip/og70iLA0KCQkJCQlwb3NpdGlvbjogIm1pZGRsZSIsDQoJCQkJfSk7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJaWYgKHRoaXMubWVzc2FnZS5zZXggPT0gMiAmJiAhdGhpcy5tZXNzYWdlLmlub2N1bGF0aW9uKSB7DQoJCQkJVG9hc3Qoew0KCQkJCQltZXNzYWdlOiAi6K+36YCJ5oup5aSH5a2V5oOF5Ya1IiwNCgkJCQkJcG9zaXRpb246ICJtaWRkbGUiLA0KCQkJCX0pOw0KCQkJCXJldHVybjsNCiAgICAgICAgICAgIH0NCgkJCXRoaXMuYXhpb3MucG9zdCgiL2VtZ2NhbGwvYWRkcGF0aWVudCIsIHsNCgkJCQkNCgkJCQkJbmlja25hbWU6IHRoaXMubWVzc2FnZS5uaWNrbmFtZSwNCgkJCQkJc2V4OiB0aGlzLm1lc3NhZ2Uuc2V4LA0KCQkJCQliaXJ0aGRheTogdGhpcy5tZXNzYWdlLmJpcnRoZGF5LA0KCQkJCQl3ZWlnaHQ6IHRoaXMubWVzc2FnZS53ZWlnaHQsDQoJCQkJCWFsbGVyZ3k6IHRoaXMubWVzc2FnZS5hbGxlcmd5LA0KCQkJCQlhbGxlcmd5X2Rlc2M6IHRoaXMubWVzc2FnZS5hbGxlcmd5X2Rlc2MgPyB0aGlzLm1lc3NhZ2UuYWxsZXJneV9kZXNjIDogJ+aXoCcsDQoJCQkJCWhpc3Rvcnk6IHRoaXMubWVzc2FnZS5oaXN0b3J5LA0KCQkJCQloaXN0b3J5X2Rlc2M6IHRoaXMubWVzc2FnZS5oaXN0b3J5X2Rlc2MgPyB0aGlzLm1lc3NhZ2UuaGlzdG9yeV9kZXNjIDogJ+aXoCcsDQoJCQkJCWxpdmVyOiB0aGlzLm1lc3NhZ2UubGl2ZXIsDQoJCQkJCWtpZG5leTogdGhpcy5tZXNzYWdlLmtpZG5leSwNCgkJCQkJaW5vY3VsYXRpb246IHRoaXMubWVzc2FnZS5pbm9jdWxhdGlvbiA/IHRoaXMubWVzc2FnZS5pbm9jdWxhdGlvbiA6IDQsDQoJCQkJCXVzZXJfaWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvLnVzZXJfaWQsDQoJCQkJCWFnZTogdGhpcy5hZ2UsDQoJCQkJDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLnRoZW4ocmVzPT57DQogICAgICAgICAgICAgICAgDQoJCQkgICAgdGhpcy4kcm91dGVyLnB1c2goYC9lbWdjYWxsL3NlY3Rpb25zP3BhdGllbnRpZD0ke3Jlcy5kYXRhLmRhdGF9YCk7DQogICAgICAgICAgICB9KTsNCgkJfSwNCgkJc2hvd0JpcnRoUG9wKCkgew0KCQkJdGhpcy5iaXJ0aGRheVNob3cgPSB0cnVlOw0KCQl9LA0KCX0sDQoJY29tcHV0ZWQ6IHsNCiAgICAgICAgYWdlKCl7DQogICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpIC0gcGFyc2VJbnQodGhpcy5tZXNzYWdlLmJpcnRoZGF5LnNsaWNlKDAsIDQpKQ0KICAgICAgICB9DQogICAgfSwNCiAgICB3YXRjaDogew0KICAgICAgICANCiAgICB9LA0KCW1vdW50ZWQoKSB7DQoJCQ0KCX0sDQp9Ow0K"},{"version":3,"sources":["PatientForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA","file":"PatientForm.vue","sourceRoot":"src/views/emgcall","sourcesContent":["<template>\r\n\t<div id=\"patient-form\">\r\n\t\t<my-navbar title=\"填写信息\"/>\r\n\t\t<van-field\r\n\t\t\tv-model=\"nickname\"\r\n\t\t\tlabel=\"患者姓名\"\r\n\t\t\tplaceholder=\"请填写真实姓名\"\r\n\t\t\t@blur=\"setNickname\"\r\n\t\t/>\r\n\t\t<van-field v-model=\"message.sex\" label=\"性别\">\r\n\t\t\t<template #input>\r\n\t\t\t\t<span\r\n\t\t\t\t\tclass=\"tag\"\r\n\t\t\t\t\t:class=\"message.sex == 1 ? 'active' : ''\"\r\n\t\t\t\t\t@click=\"setActive('sex', 1)\"\r\n\t\t\t\t\t>男</span\r\n\t\t\t\t>\r\n\t\t\t\t<span\r\n\t\t\t\t\tclass=\"tag\"\r\n\t\t\t\t\t:class=\"{ active: message.sex == 2 }\"\r\n\t\t\t\t\t@click=\"setActive('sex', 2)\"\r\n\t\t\t\t\t>女</span\r\n\t\t\t\t>\r\n\t\t\t</template>\r\n\t\t</van-field>\r\n\t\t<van-field\r\n\t\t\tv-model=\"message.birthday\"\r\n\t\t\tlabel=\"出生年月\"\r\n\t\t\tplaceholder=\"请选择出生年月\"\r\n\t\t\t@focus=\"showBirthPop\"\r\n\t\t/>\r\n\t\t<van-field\r\n\t\t\tv-model=\"weight\"\r\n\t\t\tlabel=\"体重（kg）\"\r\n\t\t\tplaceholder=\"请输入体重\"\r\n\t\t\ttype=\"number\"\r\n\t\t\t@blur=\"setWeight\"\r\n\t\t/>\r\n\t\t<van-field v-model=\"message.allergy\" label=\"过敏史\">\r\n\t\t\t<template #input>\r\n\t\t\t\t<span\r\n\t\t\t\t\tclass=\"tag\"\r\n\t\t\t\t\t:class=\"{ active: message.allergy == 1 }\"\r\n\t\t\t\t\t@click=\"setActive('allergy', 1)\"\r\n\t\t\t\t\t>无</span\r\n\t\t\t\t>\r\n\t\t\t\t<span\r\n\t\t\t\t\tclass=\"tag\"\r\n\t\t\t\t\t:class=\"{ active: message.allergy == 2 }\"\r\n\t\t\t\t\t@click=\"setActive('allergy', 2)\"\r\n\t\t\t\t\t>有</span\r\n\t\t\t\t>\r\n\t\t\t</template>\r\n\t\t</van-field>\r\n\t\t<div class=\"allergy-desc\" v-if=\"isAllergyShow\">\r\n\t\t\t<van-field\r\n\t\t\t\tv-model=\"allergyDesc\"\r\n\t\t\t\trows=\"2\"\r\n\t\t\t\ttype=\"textarea\"\r\n\t\t\t\tmaxlength=\"20\"\r\n\t\t\t\tplaceholder=\"请填写过敏药物（非常重要）\"\r\n\t\t\t\t:show-word-limit=\"true\"\r\n\t\t\t\t@blur=\"setAllergyDesc\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t\t<van-field v-model=\"message.history\" label=\"过往病史\">\r\n\t\t\t<template #input>\r\n\t\t\t\t<span\r\n\t\t\t\t\tclass=\"tag\"\r\n\t\t\t\t\t:class=\"{ active: message.history == 1 }\"\r\n\t\t\t\t\t@click=\"setActive('history', 1)\"\r\n\t\t\t\t\t>无</span\r\n\t\t\t\t>\r\n\t\t\t\t<span\r\n\t\t\t\t\tclass=\"tag\"\r\n\t\t\t\t\t:class=\"{ active: message.history == 2 }\"\r\n\t\t\t\t\t@click=\"setActive('history', 2)\"\r\n\t\t\t\t\t>有</span\r\n\t\t\t\t>\r\n\t\t\t</template>\r\n\t\t</van-field>\r\n\t\t<div class=\"history-desc\" v-if=\"isHistoryShow\">\r\n\t\t\t<van-field\r\n\t\t\t\tv-model=\"historyDesc\"\r\n\t\t\t\trows=\"2\"\r\n\t\t\t\ttype=\"textarea\"\r\n\t\t\t\tmaxlength=\"20\"\r\n\t\t\t\tplaceholder=\"请填写过往病史\"\r\n\t\t\t\t:show-word-limit=\"true\"\r\n\t\t\t\t@blur=\"setHistoryDesc\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t\t<van-field v-model=\"message.liver\" label=\"肝功能\">\r\n\t\t\t<template #input>\r\n\t\t\t\t<span\r\n\t\t\t\t\tclass=\"tag\"\r\n\t\t\t\t\t:class=\"{ active: message.liver == 1 }\"\r\n\t\t\t\t\t@click=\"setActive('liver', 1)\"\r\n\t\t\t\t\t>正常</span\r\n\t\t\t\t>\r\n\t\t\t\t<span\r\n\t\t\t\t\tclass=\"tag\"\r\n\t\t\t\t\t:class=\"{ active: message.liver == 2 }\"\r\n\t\t\t\t\t@click=\"setActive('liver', 2)\"\r\n\t\t\t\t\t>异常</span\r\n\t\t\t\t>\r\n\t\t\t</template>\r\n\t\t</van-field>\r\n\t\t<van-field v-model=\"message.kidney\" label=\"肾功能\">\r\n\t\t\t<template #input>\r\n\t\t\t\t<span\r\n\t\t\t\t\tclass=\"tag\"\r\n\t\t\t\t\t:class=\"{ active: message.kidney == 1 }\"\r\n\t\t\t\t\t@click=\"setActive('kidney', 1)\"\r\n\t\t\t\t\t>正常</span\r\n\t\t\t\t>\r\n\t\t\t\t<span\r\n\t\t\t\t\tclass=\"tag\"\r\n\t\t\t\t\t:class=\"{ active: message.kidney == 2 }\"\r\n\t\t\t\t\t@click=\"setActive('kidney', 2)\"\r\n\t\t\t\t\t>异常</span\r\n\t\t\t\t>\r\n\t\t\t</template>\r\n\t\t</van-field>\r\n\t\t<div class=\"inoculation\" v-if=\"isInoculationShow\">\r\n\t\t\t<van-field v-model=\"message.inoculation\" label=\"孕育情况\">\r\n\t\t\t\t<template #input>\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclass=\"tag\"\r\n\t\t\t\t\t\t:class=\"{ active: message.inoculation == 1 }\"\r\n\t\t\t\t\t\t@click=\"setActive('inoculation', 1)\"\r\n\t\t\t\t\t\t>无</span\r\n\t\t\t\t\t>\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclass=\"tag\"\r\n\t\t\t\t\t\t:class=\"{ active: message.inoculation == 2 }\"\r\n\t\t\t\t\t\t@click=\"setActive('inoculation', 2)\"\r\n\t\t\t\t\t\t>怀孕中</span\r\n\t\t\t\t\t>\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclass=\"tag\"\r\n\t\t\t\t\t\t:class=\"{ active: message.inoculation == 3 }\"\r\n\t\t\t\t\t\t@click=\"setActive('inoculation', 3)\"\r\n\t\t\t\t\t\t>哺乳中</span\r\n\t\t\t\t\t>\r\n\t\t\t\t</template>\r\n\t\t\t</van-field>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"next-btn\">\r\n\t\t\t<van-button\r\n\t\t\t\tsize=\"large\"\r\n\t\t\t\tcolor=\"#00c792\"\r\n\t\t\t\tround\r\n\t\t\t\t@click=\"next\"\r\n\t\t\t\t>提交</van-button\r\n\t\t\t>\r\n\t\t</div>\r\n\r\n\t\t<van-popup v-model=\"birthdayShow\" position=\"bottom\">\r\n\t\t\t<van-datetime-picker\r\n\t\t\t\tv-model=\"currentDate\"\r\n\t\t\t\ttype=\"date\"\r\n\t\t\t\ttitle=\"选择年月日\"\r\n\t\t\t\t:min-date=\"minDate\"\r\n\t\t\t\t:max-date=\"maxDate\"\r\n\t\t\t\t@confirm=\"birthdayConfirm\"\r\n\t\t\t\t@cancel=\"birthdayCancel\"\r\n\t\t\t/>\r\n\t\t</van-popup>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { Toast } from \"vant\";\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n            birthday: '',\r\n\t\t\tisInoculationShow: false,\r\n\t\t\tisHistoryShow: false,\r\n\t\t\tisAllergyShow: false,\r\n\t\t\tallergyDesc: \"\",\r\n\t\t\thistoryDesc: \"\",\r\n\t\t\tnickname: \"\",\r\n\t\t\tweight: \"\",\r\n\t\t\tmessage: {},\r\n\t\t\tbirthdayShow: false,\r\n\t\t\tcurrentDate: new Date(2000, 0, 1),\r\n\t\t\tminDate: new Date(1890, 0, 1),\r\n\t\t\tmaxDate: new Date(),\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tsetHistoryDesc() {\r\n\t\t\tthis.$set(this.message, \"historyDesc\", this.historyDesc);\r\n\t\t},\r\n\t\tsetAllergyDesc() {\r\n\t\t\tthis.$set(this.message, \"allergyDesc\", this.allergyDesc);\r\n\t\t},\r\n\t\tsetNickname() {\r\n\t\t\tthis.$set(this.message, \"nickname\", this.nickname);\r\n\t\t},\r\n\t\tsetWeight() {\r\n\t\t\tthis.$set(this.message, \"weight\", this.weight);\r\n\t\t},\r\n\t\tbirthdayCancel() {\r\n\t\t\tthis.birthdayShow = false;\r\n\t\t},\r\n\t\tbirthdayConfirm(value) {\r\n\t\t\tthis.birthdayShow = false;\r\n\t\t\tlet str = this.moment(value).format(\"YYYY-MM-DD\");\r\n\t\t\tthis.$set(this.message, \"birthday\", str);\r\n\t\t},\r\n\t\tsetActive(item, value) {\r\n\t\t\tthis.$set(this.message, item, value);\r\n\t\t\tif (item == \"allergy\") {\r\n\t\t\t\tif (value == 2) {\r\n\t\t\t\t\tthis.isAllergyShow = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.isAllergyShow = false;\r\n\t\t\t\t}\r\n\t\t\t} else if (item == \"history\") {\r\n\t\t\t\tif (value == 2) {\r\n\t\t\t\t\tthis.isHistoryShow = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.isHistoryShow = false;\r\n\t\t\t\t}\r\n\t\t\t} else if (item == \"sex\") {\r\n\t\t\t\tif (value == 2) {\r\n\t\t\t\t\tthis.isInoculationShow = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.isInoculationShow = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tnext() {\r\n\t\t\tif (!this.message.nickname) {\r\n\t\t\t\tToast({\r\n\t\t\t\t\tmessage: \"请输入姓名\",\r\n\t\t\t\t\tposition: \"middle\",\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.message.sex) {\r\n\t\t\t\tToast({\r\n\t\t\t\t\tmessage: \"请选择性别\",\r\n\t\t\t\t\tposition: \"middle\",\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.message.birthday) {\r\n\t\t\t\tToast({\r\n\t\t\t\t\tmessage: \"请选择出生日期\",\r\n\t\t\t\t\tposition: \"middle\",\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.message.weight) {\r\n\t\t\t\tToast({\r\n\t\t\t\t\tmessage: \"请输入体重\",\r\n\t\t\t\t\tposition: \"middle\",\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.message.allergy) {\r\n\t\t\t\tToast({\r\n\t\t\t\t\tmessage: \"请选择过敏史\",\r\n\t\t\t\t\tposition: \"middle\",\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.message.history) {\r\n\t\t\t\tToast({\r\n\t\t\t\t\tmessage: \"请选择过往病史\",\r\n\t\t\t\t\tposition: \"middle\",\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.message.liver) {\r\n\t\t\t\tToast({\r\n\t\t\t\t\tmessage: \"请选择肝功能\",\r\n\t\t\t\t\tposition: \"middle\",\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.message.kidney) {\r\n\t\t\t\tToast({\r\n\t\t\t\t\tmessage: \"请选择肾功能\",\r\n\t\t\t\t\tposition: \"middle\",\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (this.message.sex == 2 && !this.message.inoculation) {\r\n\t\t\t\tToast({\r\n\t\t\t\t\tmessage: \"请选择备孕情况\",\r\n\t\t\t\t\tposition: \"middle\",\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n            }\r\n\t\t\tthis.axios.post(\"/emgcall/addpatient\", {\r\n\t\t\t\t\r\n\t\t\t\t\tnickname: this.message.nickname,\r\n\t\t\t\t\tsex: this.message.sex,\r\n\t\t\t\t\tbirthday: this.message.birthday,\r\n\t\t\t\t\tweight: this.message.weight,\r\n\t\t\t\t\tallergy: this.message.allergy,\r\n\t\t\t\t\tallergy_desc: this.message.allergy_desc ? this.message.allergy_desc : '无',\r\n\t\t\t\t\thistory: this.message.history,\r\n\t\t\t\t\thistory_desc: this.message.history_desc ? this.message.history_desc : '无',\r\n\t\t\t\t\tliver: this.message.liver,\r\n\t\t\t\t\tkidney: this.message.kidney,\r\n\t\t\t\t\tinoculation: this.message.inoculation ? this.message.inoculation : 4,\r\n\t\t\t\t\tuser_id: this.$store.state.userInfo.user_id,\r\n\t\t\t\t\tage: this.age,\r\n\t\t\t\t\r\n            })\r\n            .then(res=>{\r\n                \r\n\t\t\t    this.$router.push(`/emgcall/sections?patientid=${res.data.data}`);\r\n            });\r\n\t\t},\r\n\t\tshowBirthPop() {\r\n\t\t\tthis.birthdayShow = true;\r\n\t\t},\r\n\t},\r\n\tcomputed: {\r\n        age(){\r\n            return new Date().getFullYear() - parseInt(this.message.birthday.slice(0, 4))\r\n        }\r\n    },\r\n    watch: {\r\n        \r\n    },\r\n\tmounted() {\r\n\t\t\r\n\t},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#patient-form >>> .van-cell .tag.active {\r\n\tcolor: #00c792;\r\n\tbackground-color: #e5f9f4;\r\n}\r\n\r\n#patient-form >>> .van-cell .tag {\r\n\tdisplay: inline-block;\r\n\tpadding: 8px 5px;\r\n\tmin-width: 32px;\r\n\tbackground-color: #fafafa;\r\n\tborder-radius: 4px;\r\n\tcolor: #4d4d4d;\r\n\ttext-align: center;\r\n\tmargin-right: 20px;\r\n\tfont-size: 14px;\r\n}\r\n\r\n#patient-form >>> .van-cell .van-cell__title,\r\n#patient-form >>> .van-cell input,\r\n#patient-form >>> textarea {\r\n\tfont-size: 17px;\r\n\tline-height: 32px;\r\n}\r\n\r\n#patient-form .van-cell {\r\n\tpadding: 14px 16px;\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n#patient-form .next-btn {\r\n\tbackground-color: #fff;\r\n\tbox-sizing: border-box;\r\n\tposition: fixed;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\tpadding: 10px 16px;\r\n}\r\n\r\n#patient-form {\r\n\tpadding-bottom: 70px;\r\n}\r\n</style>\r\n"]}]}