{"remainingRequest":"C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\src\\components\\Clipper.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\src\\components\\Clipper.vue","mtime":1611127033175},{"path":"C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610353155479},{"path":"C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\node_modules\\babel-loader\\lib\\index.js","mtime":1610353154995},{"path":"C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610353155479},{"path":"C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\index.js","mtime":1610353179708}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IENyb3BwZXIgZnJvbSAiY3JvcHBlcmpzIjsKaW1wb3J0ICJjcm9wcGVyanMvZGlzdC9jcm9wcGVyLm1pbi5jc3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInYtc2ltcGxlLWNyb3BwZXIiLAogIHByb3BzOiB7CiAgICBpbml0UGFyYW06IE9iamVjdCwKICAgIHN1Y2Nlc3NDYWxsYmFjazogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7fQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNyb3BwZXI6IHt9LAogICAgICBmaWxlbmFtZTogIiIKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDliJ3lp4vljJboo4Hliarmj5Lku7YKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBjcm9wcGVySW1nID0gdGhpcy4kcmVmc1siY3JvcHBlckltZyJdOwogICAgICB0aGlzLmNyb3BwZXIgPSBuZXcgQ3JvcHBlcihjcm9wcGVySW1nLCB7CiAgICAgICAgYXNwZWN0UmF0aW86IDEgLyAxLAogICAgICAgIGRyYWdNb2RlOiAibW92ZSIKICAgICAgfSk7CiAgICB9IC8vIC8vIOeCueWHu+S4iuS8oOaMiemSrgogICAgLy8gdXBsb2FkKCkgewogICAgLy8gCXRoaXMuJHJlZnNbImZpbGUiXS5jbGljaygpOwogICAgLy8gfSwKICAgIC8vIC8vIOmAieaLqeS4iuS8oOaWh+S7tgogICAgLy8gdXBsb2FkQ2hhbmdlKGUpIHsKICAgIC8vIAlsZXQgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgLy8gCXRoaXMuZmlsZW5hbWUgPSBmaWxlWyJuYW1lIl07CiAgICAvLyAJbGV0IFVSTCA9IHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTDsKICAgIC8vIAl0aGlzLiRyZWZzWyJsYXllciJdLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgLy8gCXRoaXMuY3JvcHBlci5yZXBsYWNlKFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSkpOwogICAgLy8gfSwKICAgIC8vIC8vIOWPlua2iOS4iuS8oAogICAgLy8gY2FuY2VsSGFuZGxlKCkgewogICAgLy8gCXRoaXMuY3JvcHBlci5yZXNldCgpOwogICAgLy8gCXRoaXMuJHJlZnNbImxheWVyIl0uc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIC8vIAl0aGlzLiRyZWZzWyJmaWxlIl0udmFsdWUgPSAiIjsKICAgIC8vIH0sCiAgICAvLyAvLyDnoa7lrprkuIrkvKAKICAgIC8vIGNvbmZpcm1IYW5kbGUoKSB7CiAgICAvLyAJbGV0IGNyb3BCb3ggPSB0aGlzLmNyb3BwZXIuZ2V0Q3JvcEJveERhdGEoKTsKICAgIC8vIAlsZXQgc2NhbGUgPSB0aGlzLmluaXRQYXJhbVsic2NhbGUiXSB8fCAxOwogICAgLy8gCWxldCBjcm9wQ2FudmFzID0gdGhpcy5jcm9wcGVyLmdldENyb3BwZWRDYW52YXMoewogICAgLy8gCQl3aWR0aDogY3JvcEJveC53aWR0aCAqIHNjYWxlLAogICAgLy8gCQloZWlnaHQ6IGNyb3BCb3guaGVpZ2h0ICogc2NhbGUsCiAgICAvLyAJfSk7CiAgICAvLyAJbGV0IGltZ0RhdGEgPSBjcm9wQ2FudmFzLnRvRGF0YVVSTCgiaW1hZ2UvanBlZyIpOwogICAgLy8gCWxldCBmb3JtRGF0YSA9IG5ldyB3aW5kb3cuRm9ybURhdGEoKTsKICAgIC8vIAlmb3JtRGF0YS5hcHBlbmQoImZpbGVUeXBlIiwgdGhpcy5pbml0UGFyYW1bImZpbGVUeXBlIl0pOwogICAgLy8gCWZvcm1EYXRhLmFwcGVuZCgiaW1nIiwgaW1nRGF0YSk7CiAgICAvLyAJZm9ybURhdGEuYXBwZW5kKCJzaWduSWQiLCB0aGlzLiRsb2NhbFN0b3JhZ2UoInNpZ25JZCIpKTsKICAgIC8vIAlmb3JtRGF0YS5hcHBlbmQoIm9yaWdpbmFsRmlsZW5hbWUiLCB0aGlzLmZpbGVuYW1lKTsKICAgIC8vIAl3aW5kb3cKICAgIC8vIAkJLiRheGlvcyh0aGlzLmluaXRQYXJhbVsidXBsb2FkVVJMIl0sIGZvcm1EYXRhLCB7CiAgICAvLyAJCQltZXRob2Q6ICJwb3N0IiwKICAgIC8vIAkJCWhlYWRlcnM6IHsgIkNvbnRlbnQtVHlwZSI6ICJtdWx0aXBhcnQvZm9ybS1kYXRhIiB9LAogICAgLy8gCQl9KQogICAgLy8gCQkudGhlbihyZXMgPT4gewogICAgLy8gCQkJdGhpcy5zdWNjZXNzQ2FsbGJhY2socmVzLmRhdGEpOwogICAgLy8gCQkJdGhpcy5jYW5jZWxIYW5kbGUoKTsKICAgIC8vIAkJfSk7CiAgICAvLyB9LAoKICB9Cn07"},{"version":3,"sources":["Clipper.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAuBA,OAAA,OAAA,MAAA,WAAA;AACA,OAAA,gCAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,kBADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,SAAA,EAAA,MADA;AAEA,IAAA,eAAA,EAAA;AACA,MAAA,IAAA,EAAA,QADA;AAEA,MAAA,OAAA,EAAA,oBAAA,CAAA;AAFA;AAFA,GAFA;AASA,EAAA,IATA,kBASA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GAdA;AAeA,EAAA,OAfA,qBAeA;AACA,SAAA,IAAA;AACA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,IAFA,kBAEA;AACA,UAAA,UAAA,GAAA,KAAA,KAAA,CAAA,YAAA,CAAA;AACA,WAAA,OAAA,GAAA,IAAA,OAAA,CAAA,UAAA,EAAA;AACA,QAAA,WAAA,EAAA,IAAA,CADA;AAEA,QAAA,QAAA,EAAA;AAFA,OAAA,CAAA;AAIA,KARA,CASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAlDA;AAlBA,CAAA","sourcesContent":["<template>\r\n\t<div class=\"v-simple-cropper\">\r\n\t\t<slot>\r\n\t\t\t<button @click=\"upload\">上传图片</button>\r\n\t\t</slot>\r\n\t\t<input\r\n\t\t\tclass=\"file\"\r\n\t\t\tref=\"file\"\r\n\t\t\ttype=\"file\"\r\n\t\t\taccept=\"image/*\"\r\n\t\t\t@change=\"uploadChange\"\r\n\t\t/>\r\n\t\t<div class=\"v-cropper-layer\" ref=\"layer\">\r\n\t\t\t<div class=\"layer-header\">\r\n\t\t\t\t<button class=\"cancel\" @click=\"cancelHandle\">取消</button>\r\n\t\t\t\t<button class=\"confirm\" @click=\"confirmHandle\">裁剪</button>\r\n\t\t\t</div>\r\n\t\t\t<img ref=\"cropperImg\" />\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport Cropper from \"cropperjs\";\r\nimport \"cropperjs/dist/cropper.min.css\";\r\nexport default {\r\n\tname: \"v-simple-cropper\",\r\n\tprops: {\r\n\t\tinitParam: Object,\r\n\t\tsuccessCallback: {\r\n\t\t\ttype: Function,\r\n\t\t\tdefault: () => {},\r\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcropper: {},\r\n\t\t\tfilename: \"\",\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tthis.init();\r\n\t},\r\n\tmethods: {\r\n\t\t// 初始化裁剪插件\r\n\t\tinit() {\r\n\t\t\tlet cropperImg = this.$refs[\"cropperImg\"];\r\n\t\t\tthis.cropper = new Cropper(cropperImg, {\r\n\t\t\t\taspectRatio: 1 / 1,\r\n\t\t\t\tdragMode: \"move\",\r\n\t\t\t});\r\n\t\t},\r\n\t\t// // 点击上传按钮\r\n\t\t// upload() {\r\n\t\t// \tthis.$refs[\"file\"].click();\r\n\t\t// },\r\n\t\t// // 选择上传文件\r\n\t\t// uploadChange(e) {\r\n\t\t// \tlet file = e.target.files[0];\r\n\t\t// \tthis.filename = file[\"name\"];\r\n\t\t// \tlet URL = window.URL || window.webkitURL;\r\n\t\t// \tthis.$refs[\"layer\"].style.display = \"block\";\r\n\t\t// \tthis.cropper.replace(URL.createObjectURL(file));\r\n\t\t// },\r\n\t\t// // 取消上传\r\n\t\t// cancelHandle() {\r\n\t\t// \tthis.cropper.reset();\r\n\t\t// \tthis.$refs[\"layer\"].style.display = \"none\";\r\n\t\t// \tthis.$refs[\"file\"].value = \"\";\r\n\t\t// },\r\n\t\t// // 确定上传\r\n\t\t// confirmHandle() {\r\n\t\t// \tlet cropBox = this.cropper.getCropBoxData();\r\n\t\t// \tlet scale = this.initParam[\"scale\"] || 1;\r\n\t\t// \tlet cropCanvas = this.cropper.getCroppedCanvas({\r\n\t\t// \t\twidth: cropBox.width * scale,\r\n\t\t// \t\theight: cropBox.height * scale,\r\n\t\t// \t});\r\n\t\t// \tlet imgData = cropCanvas.toDataURL(\"image/jpeg\");\r\n\t\t// \tlet formData = new window.FormData();\r\n\t\t// \tformData.append(\"fileType\", this.initParam[\"fileType\"]);\r\n\t\t// \tformData.append(\"img\", imgData);\r\n\t\t// \tformData.append(\"signId\", this.$localStorage(\"signId\"));\r\n\t\t// \tformData.append(\"originalFilename\", this.filename);\r\n\t\t// \twindow\r\n\t\t// \t\t.$axios(this.initParam[\"uploadURL\"], formData, {\r\n\t\t// \t\t\tmethod: \"post\",\r\n\t\t// \t\t\theaders: { \"Content-Type\": \"multipart/form-data\" },\r\n\t\t// \t\t})\r\n\t\t// \t\t.then(res => {\r\n\t\t// \t\t\tthis.successCallback(res.data);\r\n\t\t// \t\t\tthis.cancelHandle();\r\n\t\t// \t\t});\r\n\t\t// },\r\n\t},\r\n};\r\n</script>\r\n\r\n<style>\r\n.v-simple-cropper .file {\r\n\tdisplay: none;\r\n}\r\n.v-simple-cropper .v-cropper-layer {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbackground: #fff;\r\n\tz-index: 99999;\r\n\tdisplay: none;\r\n}\r\n.v-simple-cropper .v-cropper-layer .layer-header {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tz-index: 99999;\r\n\tbackground: #fff;\r\n\twidth: 100%;\r\n\theight: 0.8rem;\r\n\tpadding: 0 0.2rem;\r\n\tbox-sizing: border-box;\r\n}\r\n.v-simple-cropper .v-cropper-layer .cancel,\r\n.v-simple-cropper .v-cropper-layer .confirm {\r\n\tline-height: 0.8rem;\r\n\tfont-size: 0.28rem;\r\n\tbackground: inherit;\r\n\tborder: 0;\r\n\toutline: 0;\r\n\tfloat: left;\r\n}\r\n.v-simple-cropper .v-cropper-layer .confirm {\r\n\tfloat: right;\r\n}\r\n.v-simple-cropper .v-cropper-layer img {\r\n\tposition: inherit !important;\r\n\tborder-radius: inherit !important;\r\n\tfloat: inherit !important;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components"}]}