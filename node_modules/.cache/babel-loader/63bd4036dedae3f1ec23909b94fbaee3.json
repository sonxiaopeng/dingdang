{"remainingRequest":"C:\\Users\\web\\Desktop\\Dr.Dingdang\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\web\\Desktop\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\web\\Desktop\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\Dr.Dingdang\\src\\views\\Consult.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\web\\Desktop\\Dr.Dingdang\\src\\views\\Consult.vue","mtime":1611384867999},{"path":"C:\\Users\\web\\Desktop\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610353156000},{"path":"C:\\Users\\web\\Desktop\\Dr.Dingdang\\node_modules\\babel-loader\\lib\\index.js","mtime":1610353156000},{"path":"C:\\Users\\web\\Desktop\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610353156000},{"path":"C:\\Users\\web\\Desktop\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\index.js","mtime":1610353180000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkM6L1VzZXJzL3dlYi9EZXNrdG9wL0RyLkRpbmdkYW5nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2YWx1ZTogIiIsCiAgICAgIGFjdGl2ZUtleTogMCwKICAgICAgb2ZmaWNlTmFtZToge30sCiAgICAgIC8v56eR5a6k5ZCN56ewCiAgICAgIGluZGV4TGlzdDogW10sCiAgICAgIC8v57Si5byV5a2X5q+N5pWw57uECiAgICAgIGRpc2Vhc2U6IFtdIC8v5b2T5YmN56eR5a6k55qE55a+55eF5pWw57uECgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdvdG9TZWFyY2g6IGZ1bmN0aW9uIGdvdG9TZWFyY2goKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAiL3NlYXJjaCIsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGFjdGl2ZTogNAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgb25DbGlja0xlZnQ6IGZ1bmN0aW9uIG9uQ2xpY2tMZWZ0KCkgewogICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgfSwKICAgIC8v5Y+R6YCBYXhpb3Por7fmsYLojrflj5blr7nlupTnp5HlrqTnmoTnlr7nl4XmlbDmja4KICAgIGhhbmRsZTogZnVuY3Rpb24gaGFuZGxlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIG9mZmljZUlkID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxOwogICAgICAvLyDlsIblvZPliY3pgInkuK3nmoTnp5HlrqTlrZjmlL7liLBWdWV45LitCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiaGFuZGxlT2ZmaWNlSWQiLCBvZmZpY2VJZCk7CiAgICAgIHRoaXMuZGlzZWFzZSA9IFtdOyAvL+abtOaNouenkeWupOaXtua4heepuue0ouW8lemmluWtl+avjeaVsOe7hAoKICAgICAgdGhpcy5pbmRleExpc3QgPSBbXTsgLy/mm7TmjaLnp5HlrqTml7bmuIXnqbrntKLlvJXpppblrZfmr43mlbDnu4QKCiAgICAgIHZhciB1cmwgPSAiL2NvbnN1bHRJZD9vZmZpY2VfaWQ9Ii5jb25jYXQob2ZmaWNlSWQpOwogICAgICB0aGlzLmF4aW9zLmdldCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEuZGF0YTsgLy/mi7zmjqXntKLlvJXlrZfmr43mlbDnu4TlkozlvZPliY3np5HlrqTnmoTnlr7nl4XmlbDnu4QKICAgICAgICAvL+iOt+WPlummluS4que0ouW8leW5tnB1c2jliLDmlbDnu4TkuK0KCiAgICAgICAgdmFyIG5hbWUgPSBkYXRhWzBdLmluZGV4X25hbWU7CgogICAgICAgIF90aGlzLmluZGV4TGlzdC5wdXNoKG5hbWUpOwoKICAgICAgICB2YXIgYXJyID0gW107IC8v5a6a5LmJ5q+P5Liq5a2X5q+N55qE5bCP5pWw57uECgogICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihkYXRhKSwKICAgICAgICAgICAgX3N0ZXA7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgICB2YXIgZCA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICB2YXIgbiA9IGQuaW5kZXhfbmFtZTsKCiAgICAgICAgICAgIGlmIChuYW1lICE9IG4pIHsKICAgICAgICAgICAgICAvL+aLvOaOpeWtl+avjee0ouW8leaVsOe7hC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgICAgICAgX3RoaXMuaW5kZXhMaXN0LnB1c2gobik7CgogICAgICAgICAgICAgIG5hbWUgPSBuOyAvL+aKim5hbWXliIfmjaLliLDkuIvliLDkuIvkuKrlrZfmr40KICAgICAgICAgICAgICAvL+aKimFycuaVsOe7hOa3u+WKoOWIsOW9k+WJjeenkeWupOeahOeWvueXheaVsOe7hGRpc2Vhc2XkuK0tLS0tLS0tLS0tLQoKICAgICAgICAgICAgICBfdGhpcy5kaXNlYXNlLnB1c2goYXJyKTsKCiAgICAgICAgICAgICAgYXJyID0gW107IC8v6aaW5a2X5q+N5pWw57uE77yM55So5p2l5pS+5LiL5LiA5Liq5a2X5q+N5LiL55qE5omA5pyJ55a+55eFCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGFyci5wdXNoKGQpOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICB9CgogICAgICAgIF90aGlzLmRpc2Vhc2UucHVzaChhcnIpOyAvL+W+queOr+e7k+adn+WQjuaKiuacgOWQjuS4gOe7hOeWvueXhea3u+WKoOWIsGRpc2Vhc2XkuK0KCiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIC8v5Y+R6YCBYXhpb3Por7fmsYLojrflj5bmiYDmnInnp5HlrqQKICAgIHRoaXMuYXhpb3MuZ2V0KCIvY29uc3VsdCIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAvL+iOt+WPluaVsOaNruaUvuWFpW9mZmljZU5hbWXmlbDnu4TkuK0KICAgICAgX3RoaXMyLm9mZmljZU5hbWUgPSByZXMuZGF0YS5kYXRhOwogICAgfSk7CiAgICB0aGlzLmhhbmRsZSgpOyAvL+mmluasoeWKoOi9vQogIH0KfTs="},{"version":3,"sources":["Consult.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,CAFA;AAGA,MAAA,UAAA,EAAA,EAHA;AAGA;AACA,MAAA,SAAA,EAAA,EAJA;AAIA;AACA,MAAA,OAAA,EAAA,EALA,CAKA;;AALA,KAAA;AAOA,GATA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,SADA;AAEA,QAAA,KAAA,EAAA;AACA,UAAA,MAAA,EAAA;AADA;AAFA,OAAA;AAMA,KARA;AASA,IAAA,WATA,yBASA;AACA,WAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,KAXA;AAYA;AACA,IAAA,MAbA,oBAaA;AAAA;;AAAA,UAAA,QAAA,uEAAA,CAAA;AACA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,gBAAA,EAAA,QAAA;AACA,WAAA,OAAA,GAAA,EAAA,CAHA,CAGA;;AACA,WAAA,SAAA,GAAA,EAAA,CAJA,CAIA;;AACA,UAAA,GAAA,kCAAA,QAAA,CAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CADA,CAEA;AACA;;AACA,YAAA,IAAA,GAAA,IAAA,CAAA,CAAA,CAAA,CAAA,UAAA;;AACA,QAAA,KAAA,CAAA,SAAA,CAAA,IAAA,CAAA,IAAA;;AACA,YAAA,GAAA,GAAA,EAAA,CANA,CAMA;;AANA,mDAOA,IAPA;AAAA;;AAAA;AAOA,8DAAA;AAAA,gBAAA,CAAA;AACA,gBAAA,CAAA,GAAA,CAAA,CAAA,UAAA;;AACA,gBAAA,IAAA,IAAA,CAAA,EAAA;AACA;AACA,cAAA,KAAA,CAAA,SAAA,CAAA,IAAA,CAAA,CAAA;;AACA,cAAA,IAAA,GAAA,CAAA,CAHA,CAGA;AACA;;AACA,cAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;;AACA,cAAA,GAAA,GAAA,EAAA,CANA,CAMA;AACA;;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,CAAA;AACA;AAlBA;AAAA;AAAA;AAAA;AAAA;;AAmBA,QAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA,EAnBA,CAmBA;;AACA,OApBA;AAqBA;AAxCA,GAVA;AAoDA,EAAA,OApDA,qBAoDA;AAAA;;AACA;AACA,SAAA,KAAA,CAAA,GAAA,CAAA,UAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA;AACA,MAAA,MAAA,CAAA,UAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,KAHA;AAIA,SAAA,MAAA,GANA,CAMA;AACA;AA3DA,CAAA","sourcesContent":["<template>\r\n\t<div id=\"cousilt\">\r\n\t\t<!-- 页头开始 -->\r\n\t\t<div class=\"header\">\r\n\t\t\t<van-nav-bar\r\n\t\t\t\ttitle=\"查疾病\"\r\n\t\t\t\tfixed\r\n\t\t\t\tleft-arrow\r\n\t\t\t\tplaceholder\r\n\t\t\t\t@click-left=\"onClickLeft\"\r\n\t\t\t>\r\n\t\t\t\t<template #left>\r\n\t\t\t\t\t<van-icon\r\n\t\t\t\t\t\tname=\"arrow-left\"\r\n\t\t\t\t\t\tsize=\"25\"\r\n\t\t\t\t\t\tcolor=\"#333029\"\r\n\t\t\t\t\t></van-icon>\r\n\t\t\t\t</template>\r\n\t\t\t</van-nav-bar>\r\n\t\t\t<!-- 页头结束 -->\r\n\t\t\t<!-- 搜索框开始 -->\r\n\t\t\t<van-search\r\n\t\t\t\tclass=\"search\"\r\n\t\t\t\tv-model=\"value\"\r\n\t\t\t\tplaceholder=\"症状，疾病\"\r\n\t\t\t\t@focus=\"gotoSearch\"\r\n\t\t\t/>\r\n\t\t\t<!-- 搜索框结束 -->\r\n\t\t</div>\r\n\t\t<div class=\"main\">\r\n\t\t\t<!-- 侧边导航开始 -->\r\n\t\t\t<div class=\"sidebar\">\r\n\t\t\t\t<van-sidebar v-model=\"activeKey\">\r\n\t\t\t\t\t<van-sidebar-item\r\n\t\t\t\t\t\t@click=\"handle(item.office_id)\"\r\n\t\t\t\t\t\t:class=\"{\r\n\t\t\t\t\t\t\tactive: $store.state.office_id == item.office_id,\r\n\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\tv-for=\"item of officeName\"\r\n\t\t\t\t\t\t:title=\"item.office_name\"\r\n\t\t\t\t\t\t:key=\"item.office_id\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</van-sidebar>\r\n\t\t\t</div>\r\n\t\t\t<!-- 侧边导航结束 -->\r\n\r\n\t\t\t<!-- 索引栏开始 -->\r\n\t\t\t<div class=\"IndexBar\">\r\n\t\t\t\t<van-index-bar\r\n\t\t\t\t\thighlight-color=\"#00c792\"\r\n\t\t\t\t\t:index-list=\"indexList\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div v-for=\"(item, index) of indexList\" :key=\"index\">\r\n\t\t\t\t\t\t<van-index-anchor index=\"index\">\r\n\t\t\t\t\t\t\t{{ item }}</van-index-anchor\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<van-cell\r\n\t\t\t\t\t\t\tv-for=\"(item1, index) of disease[index]\"\r\n\t\t\t\t\t\t\t:title=\"item1.name\"\r\n\t\t\t\t\t\t\t:to=\"{\r\n\t\t\t\t\t\t\t\tpath: '/ConsultDetails/' + item1.disease_id,\r\n\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</van-index-bar>\r\n\t\t\t</div>\r\n\t\t\t<!-- 索引栏结束 -->\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tvalue: \"\",\r\n\t\t\tactiveKey: 0,\r\n\t\t\tofficeName: {}, //科室名称\r\n\t\t\tindexList: [], //索引字母数组\r\n\t\t\tdisease: [], //当前科室的疾病数组\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tgotoSearch() {\r\n\t\t\tthis.$router.push({\r\n\t\t\t\tpath: \"/search\",\r\n\t\t\t\tquery: {\r\n\t\t\t\t\tactive: 4,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t},\r\n\t\tonClickLeft() {\r\n\t\t\tthis.$router.go(-1);\r\n\t\t},\r\n\t\t//发送axios请求获取对应科室的疾病数据\r\n\t\thandle(officeId = 1) {\r\n\t\t\t// 将当前选中的科室存放到Vuex中\r\n\t\t\tthis.$store.commit(\"handleOfficeId\", officeId);\r\n\t\t\tthis.disease = []; //更换科室时清空索引首字母数组\r\n\t\t\tthis.indexList = []; //更换科室时清空索引首字母数组\r\n\t\t\tlet url = `/consultId?office_id=${officeId}`;\r\n\t\t\tthis.axios.get(url).then(res => {\r\n\t\t\t\tlet data = res.data.data;\r\n\t\t\t\t//拼接索引字母数组和当前科室的疾病数组\r\n\t\t\t\t//获取首个索引并push到数组中\r\n\t\t\t\tlet name = data[0].index_name;\r\n\t\t\t\tthis.indexList.push(name);\r\n\t\t\t\tlet arr = []; //定义每个字母的小数组\r\n\t\t\t\tfor (var d of data) {\r\n\t\t\t\t\tlet n = d.index_name;\r\n\t\t\t\t\tif (name != n) {\r\n\t\t\t\t\t\t//拼接字母索引数组--------------------------------\r\n\t\t\t\t\t\tthis.indexList.push(n);\r\n\t\t\t\t\t\tname = n; //把name切换到下到下个字母\r\n\t\t\t\t\t\t//把arr数组添加到当前科室的疾病数组disease中-----------\r\n\t\t\t\t\t\tthis.disease.push(arr);\r\n\t\t\t\t\t\tarr = []; //首字母数组，用来放下一个字母下的所有疾病\r\n\t\t\t\t\t}\r\n\t\t\t\t\tarr.push(d);\r\n\t\t\t\t}\r\n\t\t\t\tthis.disease.push(arr); //循环结束后把最后一组疾病添加到disease中\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n\tmounted() {\r\n\t\t//发送axios请求获取所有科室\r\n\t\tthis.axios.get(\"/consult\").then(res => {\r\n\t\t\t//获取数据放入officeName数组中\r\n\t\t\tthis.officeName = res.data.data;\r\n\t\t});\r\n\t\tthis.handle(); //首次加载\r\n\t},\r\n};\r\n</script>\r\n<style scoped>\r\n#cousilt {\r\n\ttext-align: center;\r\n}\r\n\r\n.header >>> .van-nav-bar__title {\r\n\tfont-size: 20px;\r\n\tfont-weight: 800;\r\n}\r\n/* 搜索样式 */\r\n#cousilt >>> .search {\r\n\tborder: 1px solid #000;\r\n\tborder-radius: 30px;\r\n\tpadding: 0px 14px;\r\n\tmargin: 0 20px;\r\n\tborder: 0.5px solid grey;\r\n}\r\n.main {\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\theight: 577px;\r\n}\r\n/* 侧边导航样式 */\r\n.sidebar {\r\n\twidth: 108px;\r\n\toverflow: scroll;\r\n}\r\n.van-sidebar-item {\r\n\tfont-size: 16px;\r\n\ttext-align: left;\r\n\tcolor: #999;\r\n\tpadding: 20px 0 20px 16px;\r\n}\r\n\r\n.active {\r\n\tfont-weight: 400;\r\n\tcolor: #00c792;\r\n}\r\n.van-sidebar-item--select::before {\r\n\tbackground-color: #fff;\r\n}\r\n/* 索引栏 */\r\n.IndexBar {\r\n\tflex: 1 1;\r\n\ttext-align: left;\r\n\toverflow: scroll;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views"}]}