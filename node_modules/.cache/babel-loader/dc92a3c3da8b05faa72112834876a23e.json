{"remainingRequest":"C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\src\\views\\emgcall\\Symptom.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\src\\views\\emgcall\\Symptom.vue","mtime":1610723605419},{"path":"C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610345544794},{"path":"C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\node_modules\\babel-loader\\lib\\index.js","mtime":1610345544440},{"path":"C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610345544794},{"path":"C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\index.js","mtime":1610345556853}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudWludDgtYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5jb3B5LXdpdGhpbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmV2ZXJ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluZGV4LW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkubGFzdC1pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZS1yaWdodC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJldmVyc2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zZXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc3ViYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1sb2NhbGUtc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiQzovVXNlcnMvU2FrdXJhL0Rlc2t0b3AvXHU1MjREXHU3QUVGXHU5ODc1XHU5NzYyL215R2l0L0RyLkRpbmdkYW5nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IFRvYXN0IH0gZnJvbSAndmFudCc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWVzc2FnZTogIiIsCiAgICAgIGZpbGVMaXN0OiBbXSwKICAgICAgaXNEZXNjU2hvdzogdHJ1ZSwKICAgICAgb3ZlcmxheVNob3c6IGZhbHNlCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGZpbGVMaXN0OiBmdW5jdGlvbiBmaWxlTGlzdChuZXdWYWwpIHsKICAgICAgaWYgKG5ld1ZhbC5sZW5ndGggPiAwKSB7CiAgICAgICAgdGhpcy5pc0Rlc2NTaG93ID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc0Rlc2NTaG93ID0gdHJ1ZTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2hvd0Fuc3dlcjogZnVuY3Rpb24gc2hvd0Fuc3dlcigpIHsKICAgICAgdGhpcy5vdmVybGF5U2hvdyA9IHRydWU7CiAgICB9LAogICAgbmV4dDogZnVuY3Rpb24gbmV4dCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLm1lc3NhZ2UubGVuZ3RoIDw9IDEwKSB7CiAgICAgICAgVG9hc3QoJ+ivt+iHs+Wwkei+k+WFpTEw5Liq5a2XJyk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICBjb25zb2xlLmxvZyh0aGlzLmZpbGVMaXN0KTsKICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CgogICAgICBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5maWxlTGlzdCkuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW25ldyBVaW50OEFycmF5KGl0ZW0uY29udGVudCldLCB7CiAgICAgICAgICB0eXBlOiAnaW1hZ2UvanBlZycKICAgICAgICB9KTsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3VwbG9hZEZpbGUnLCBibG9iLCBEYXRlLm5vdygpICsgJy5qcGcnKTsKICAgICAgfSk7CgogICAgICBmb3JtRGF0YS5hcHBlbmQoJ3VzZXJpZCcsIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvLnVzZXJfaWQpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2Rlc2MnLCB0aGlzLm1lc3NhZ2UpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2NyZWF0ZV9hdCcsIERhdGUucGFyc2UobmV3IERhdGUoKSkpOwogICAgICB0aGlzLmF4aW9zLnBvc3QoJy9lbWdjYWxsL2FkZHN5bXB0b21pbWcnLCBmb3JtRGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMCkgewogICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvZW1nY2FsbC9wYXRpZW50LWxpc3QnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgVG9hc3QocmVzLmRhdGEubXNnKTsKICAgICAgICB9CgogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICBjb25zb2xlLmxvZyhyZWFzb24pOwogICAgICB9KTsKICAgIH0sCiAgICBjbG9zZUJ0bjogZnVuY3Rpb24gY2xvc2VCdG4oKSB7CiAgICAgIHRoaXMub3ZlcmxheVNob3cgPSBmYWxzZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Symptom.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,SAAA,KAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,UAAA,EAAA,IAHA;AAIA,MAAA,WAAA,EAAA;AAJA,KAAA;AAMA,GARA;AASA,EAAA,KAAA,EAAA;AACA,IAAA,QADA,oBACA,MADA,EACA;AACA,UAAA,MAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,aAAA,UAAA,GAAA,KAAA;AACA,OAFA,MAEA;AACA,aAAA,UAAA,GAAA,IAAA;AACA;AACA;AAPA,GATA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,WAAA,WAAA,GAAA,IAAA;AACA,KAHA;AAIA,IAAA,IAJA,kBAIA;AAAA;;AACA,UAAA,KAAA,OAAA,CAAA,MAAA,IAAA,EAAA,EAAA;AACA,QAAA,KAAA,CAAA,WAAA,CAAA;AACA,eAAA,KAAA;AACA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,QAAA;AACA,UAAA,QAAA,GAAA,IAAA,QAAA,EAAA;;AACA,yBAAA,KAAA,QAAA,EAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,GAAA,IAAA,IAAA,CAAA,CAAA,IAAA,UAAA,CAAA,IAAA,CAAA,OAAA,CAAA,CAAA,EAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA,CAAA;AACA,QAAA,QAAA,CAAA,MAAA,CAAA,YAAA,EAAA,IAAA,EAAA,IAAA,CAAA,GAAA,KAAA,MAAA;AACA,OAHA;;AAIA,MAAA,QAAA,CAAA,MAAA,CAAA,QAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,OAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,MAAA,EAAA,KAAA,OAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,WAAA,EAAA,IAAA,CAAA,KAAA,CAAA,IAAA,IAAA,EAAA,CAAA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,wBAAA,EAAA,QAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,uBAAA;AACA,SAFA,MAEA;AACA,UAAA,KAAA,CAAA,GAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AACA;;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,OARA,EASA,KATA,CASA,UAAA,MAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,OAXA;AAYA,KA9BA;AA+BA,IAAA,QA/BA,sBA+BA;AACA,WAAA,WAAA,GAAA,KAAA;AACA;AAjCA;AAlBA,CAAA","sourcesContent":["<template>\r\n\t<div id=\"symptom\">\r\n\t\t<img src=\"@/assets/images/emgcall/3362051587051885721-22.png\" alt=\"\" />\r\n\r\n\t\t<van-field\r\n\t\t\tv-model=\"message\"\r\n\t\t\ttype=\"textarea\"\r\n\t\t\tplaceholder=\"简要描述你的年龄、性别及症状，我们将为你接通对症的专科医生，并确保隐私安全\"\r\n\t\t\tmaxlength=\"500\"\r\n\t\t\tshow-word-limit\r\n\t\t/>\r\n\r\n\t\t<div class=\"img-upload\">\r\n\t\t\t<van-uploader v-model=\"fileList\" multiple :max-count=\"9\"/>\r\n\t\t\t<div class=\"uploader-description\" v-if=\"isDescShow\">\r\n\t\t\t\t上传图片辅助说明病情\r\n\t\t\t\t<br />\r\n\t\t\t\t可上传 9 张\r\n\t\t\t</div>\r\n\t\t\t<van-cell value=\" 无法上传图片？ \" @click=\"showAnswer\" />\r\n\t\t</div>\r\n\t\t<div class=\"next-btn\">\r\n\t\t\t<van-button size=\"large\" color=\"#00c792\" round @click=\"next\">下一步</van-button>\r\n\t\t</div>\r\n\t\t<van-overlay :show=\"overlayShow\">\r\n\t\t\t<div class=\"overlay-wrapper\">\r\n                <div class=\"tit\"> 请提问后通过丁香医生App上传图片 </div>\r\n                <div class=\"desc\">由于第三方或浏览器版本限制，图片可能无法上传。请先提交问题。医生回复后，【下载丁香医生App在“我的问诊”内追问并上传图片】，点击下方链接进行下载（若无法下载，请复制链接到浏览器粘贴）\r\n                    <br>\r\n                    <router-link to=\"https://app.dxy.cn/aspirin/index\">https://app.dxy.cn/aspirin/index</router-link>\r\n                </div>\r\n                <div class=\"btn\" @click=\"closeBtn\"> 我知道了 </div>\r\n            </div>\r\n\t\t</van-overlay>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { Toast } from 'vant';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tmessage: \"\",\r\n\t\t\tfileList: [],\r\n\t\t\tisDescShow: true,\r\n\t\t\toverlayShow: false,\r\n\t\t};\r\n\t},\r\n\twatch: {\r\n\t\tfileList(newVal) {\r\n\t\t\tif (newVal.length > 0) {\r\n\t\t\t\tthis.isDescShow = false;\r\n\t\t\t} else {\r\n\t\t\t\tthis.isDescShow = true;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\tshowAnswer() {\r\n\t\t\tthis.overlayShow = true;\r\n\t\t},\r\n\t\tnext() {\r\n            if(this.message.length <= 10){\r\n                Toast('请至少输入10个字');\r\n                return false;\r\n            }\r\n            console.log(this.fileList);\r\n            let formData = new FormData();\r\n            [...this.fileList].forEach(item=>{\r\n                let blob = new Blob([new Uint8Array(item.content)], {type: 'image/jpeg'});\r\n                formData.append('uploadFile', blob, Date.now() + '.jpg')\r\n            })\r\n            formData.append('userid', this.$store.state.userInfo.user_id)\r\n            formData.append('desc', this.message)\r\n            formData.append('create_at', Date.parse(new Date()))\r\n            this.axios.post('/emgcall/addsymptomimg',  formData)\r\n            .then(res=>{\r\n                if(res.data.code == 0){\r\n                    this.$router.push('/emgcall/patient-list')\r\n                }else{\r\n                    Toast(res.data.msg);\r\n                }\r\n                console.log(res)\r\n            })\r\n            .catch(reason=>{\r\n                console.log(reason)\r\n            })\r\n\t\t},\r\n        closeBtn(){\r\n            this.overlayShow = false;\r\n        }\r\n\t},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#symptom >>> .overlay-wrapper .btn::after {\r\n    position: absolute;\r\n    top: -1px;\r\n    left: 0;\r\n    display: block;\r\n    width: 100%;\r\n    height: 1px;\r\n    border-top: 1px solid #d9d9d9;\r\n    -webkit-transform: scaleY(.5);\r\n    -ms-transform: scaleY(.5);\r\n    transform: scaleY(.5);\r\n    -webkit-transform-origin: 0 100%;\r\n    -ms-transform-origin: 0 100%;\r\n    transform-origin: 0 100%;\r\n    content: \"\";\r\n}\r\n\r\n#symptom >>> .overlay-wrapper .btn {\r\n        position: relative;\r\n        color: #1a9f8c;\r\n        padding: 20px 0;\r\n}\r\n\r\n#symptom >>> .overlay-wrapper .desc a {\r\n    color: #00c792;\r\n    text-decoration: none;\r\n    line-height: 20px;\r\n}\r\n\r\n#symptom >>> .overlay-wrapper .desc {\r\n    padding: 15px 4%;\r\n    color: #666;\r\n    font-size: 14px;\r\n    word-wrap: break-word;\r\n    word-break: break-all;\r\n    line-height: 20px;\r\n}\r\n#symptom >>> .overlay-wrapper .tit {\r\n    padding-top: 10px;\r\n    font-weight: 400;\r\n    font-size: 16px;\r\n}\r\n\r\n#symptom >>> .overlay-wrapper {\r\n\tposition: fixed;\r\n\ttop: 50%;\r\n\tleft: 50%;\r\n\ttransform: translate(-50%, -50%);\r\n\tz-index: 112;\r\n\twidth: 86%;\r\n\tmax-width: 300px;\r\n\toverflow: hidden;\r\n\ttext-align: center;\r\n\tbackground-color: #fff;\r\n\tborder-radius: 6px;\r\n}\r\n\r\n#symptom >>> .next-btn {\r\n\tbox-sizing: border-box;\r\n\tposition: fixed;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\tpadding: 10px 16px;\r\n}\r\n\r\n#symptom >>> .img-upload .van-cell {\r\n\tpadding: 0;\r\n\tmargin-top: 10px;\r\n}\r\n\r\n#symptom >>> .img-upload .van-cell span {\r\n\tcolor: #00c792;\r\n\tfont-size: 12px;\r\n\tbackground-color: #fff;\r\n}\r\n\r\n#symptom > img {\r\n\twidth: 100%;\r\n}\r\n\r\n#symptom .img-upload {\r\n\tposition: relative;\r\n\tpadding: 4% 10px 4%;\r\n}\r\n\r\n#symptom .img-upload::after {\r\n\tcontent: \"\";\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\theight: 1px;\r\n\twidth: 100%;\r\n\tbackground-color: #ebebeb;\r\n\ttransform: scaleY(0.5);\r\n}\r\n\r\n#symptom .img-upload::after {\r\n\tbottom: 0;\r\n}\r\n\r\n#symptom >>> .img-upload .van-uploader__preview {\r\n\t/* flex: 0 0 0.25; */\r\n\tmargin-bottom: 8px;\r\n}\r\n\r\n#symptom >>> .img-upload .van-uploader__preview-delete {\r\n\tleft: -5px;\r\n\ttop: -5px;\r\n\twidth: 18px;\r\n\theight: 18px;\r\n\tbackground-color: #00cc96;\r\n\tborder-radius: 50%;\r\n\tborder: 2px solid #fff;\r\n}\r\n\r\n#symptom >>> .img-upload .van-uploader__preview-delete > i {\r\n\tline-height: 18px;\r\n\ttext-align: center;\r\n\ttop: 0;\r\n\tright: 0;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tposition: relative;\r\n\ttransform: scale(1);\r\n}\r\n\r\n#symptom >>> .img-upload .van-uploader__preview-image img {\r\n\tborder-radius: 4px;\r\n}\r\n\r\n#symptom >>> .img-upload .uploader-description {\r\n\tposition: absolute;\r\n\theight: 80px;\r\n\ttop: 37px;\r\n\tleft: 110px;\r\n\tfont-size: 12px;\r\n\tline-height: 20px;\r\n\tcolor: #999;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/emgcall"}]}